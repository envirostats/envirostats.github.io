<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Stefan Schreiber" />


<title>R Introduction</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 64px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h2 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h3 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h4 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h5 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h6 {
  padding-top: 69px;
  margin-top: -69px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">EXGEN 5449</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="day1.html">Day 1</a>
</li>
<li>
  <a href="day2.html">Day 2</a>
</li>
<li>
  <a href="day3.html">Day 3</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">R Introduction</h1>
<h3 class="subtitle">EXGEN5449 - Winter 2019</h3>
<h4 class="author">Stefan Schreiber</h4>

</div>


<script>
$(document).ready(function() {
  $items = $('div#TOC li');
  $items.each(function(idx) {
    num_ul = $(this).parentsUntil('#TOC').length;
    $(this).css({'text-indent': num_ul * 10, 'padding-left': 0});
  });

});
</script>
<style type="text/css">
.red { 
  color: red;
  padding-top: 0;
  margin-top: -20px;
  border-top-color: #f5f5f5;
}
</style>
<div id="installing-r" class="section level1">
<h1><span class="header-section-number">1</span> Installing R</h1>
<p>R can be downloaded from the <strong>R-project</strong> website (<a href="https://www.r-project.org/" class="uri">https://www.r-project.org/</a>). The website is highly informative, easy to navigate and also provides a great resource for everything related to R. Make sure you check out the <strong>Documentation</strong> side bar as well. The great thing about R is that almost everything is available to you for free. Alright, let’s head over to the R-project website (click the link above) and get R on our computers.</p>
<div id="first-contact" class="section level2">
<h2><span class="header-section-number">1.1</span> First contact</h2>
<p>Once the installation is completed open R by double clicking the program icon. You will see R’s Graphical User Interface (GUI). Explore all menu items, familiarize yourself with it and start typing!</p>
</div>
<div id="r-as-a-simple-calculator" class="section level2">
<h2><span class="header-section-number">1.2</span> R as a simple calculator</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="dv">2</span><span class="op">+</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co">#&gt; [1] 4</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="dv">4-6</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt; [1] -2</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="kw">sqrt</span>(<span class="dv">9</span>)</a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#&gt; [1] 3</span></a>
<a class="sourceLine" id="cb1-7" title="7">(<span class="dv">10-8</span>)<span class="op">*</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt; [1] 12</span></a></code></pre></div>
<p>As you can see R can be used like a simple calculator. However all outputs are not saved. If you want to save them, you can assign the output to a variable using the assignment operator <code>&lt;-</code> and then pass it into another function:</p>
</div>
<div id="saving-and-printing-output" class="section level2">
<h2><span class="header-section-number">1.3</span> Saving and printing output</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">x &lt;-<span class="st"> </span><span class="dv">12</span><span class="op">+</span><span class="dv">4-10</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">mean</span>(x)</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt; [1] 6</span></a></code></pre></div>
<p>Note that if you not calling <code>x</code> by typing it into the console or by passing it through another function (e.g. <code>sqrt()</code>), it will not print the output after assignment:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">my_sequence &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">30</span></a></code></pre></div>
<p><code>my_sequence</code> is now saved in R’s working memory (workspace) To call the output simply type it and hit enter:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">My_sequence</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="co">#&gt; Error in eval(expr, envir, enclos): object &#39;My_sequence&#39; not found</span></a></code></pre></div>
<p>Wait a second… what does this error message mean?? R cannot find the object <code>My_sequence</code>. Working in R can cause a lot of head scratching if you not adhere to a clear and clean style of coding. As you likely have figured out by now, R knows the difference between upper and lower case letters, i.e. R is <strong>case-sensitive</strong>!!. Let’s try again:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">my_sequence</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">#&gt; [24] 24 25 26 27 28 29 30</span></a></code></pre></div>
<p>The numbers in square brackets <code>[]</code> simply mean the position of the element at the beginning of each line. So in this case it is <code>1</code> and <code>24</code>.</p>
</div>
</div>
<div id="r-scripts" class="section level1">
<h1><span class="header-section-number">2</span> R scripts</h1>
<p>Typing in the console however, is not good practice as you will always have to rewrite everything you want. To solve this problem we can write our code in scripts that can be saved. To open a new script, click <code>File &gt; New script</code> and a script window will open. In the R script you can write everything you want R to do and make it reproducible for yourself and for people you are working together with on projects. You can then pass it to R by right-clicking anywhere in the code and click <code>Run line or selection</code>. A more efficient way to do this to use the short cut <code>Ctrl+R</code>. Also note that you should make use of the hash symbol <code>#</code> to annotate your code. R will ignore all lines starting with <code>#</code> when sent over to the console. Here is an example of how a simply R script could look like:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># Create sequence from -50 to 50 and save to my_seq</span></a>
<a class="sourceLine" id="cb6-2" title="2">x &lt;-<span class="st"> </span><span class="dv">-50</span><span class="op">:</span><span class="dv">50</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co"># take the cube of x and save as y</span></a>
<a class="sourceLine" id="cb6-4" title="4">y &lt;-<span class="st"> </span>x<span class="op">^</span><span class="dv">3</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="co">#plot the results</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="kw">plot</span>(x, y)</a></code></pre></div>
<p><img src="day1_files/figure-html/r-script-example-1.png" width="672" /></p>
</div>
<div id="save-workspace" class="section level1">
<h1><span class="header-section-number">3</span> Save workspace</h1>
<p>To save the script file navigate to <code>File &gt; Save as</code> and save where you want it. Now since we are here, I have some recommendations if you decide to work in the R GUI:</p>
<ol style="list-style-type: decimal">
<li>Create a folder where you want to work in on your hard drive</li>
<li>Start up R and navigate to <code>File &gt; Save Workspace...</code> and save a R workspace file (.RData) in the folder specified above. The workspace is where R stores your output for each session. You can see what’s in your workspace by typing <code>ls()</code></li>
<li>Close R, navigate to the .RData file in your folder and double-click it. Now your folder is the working directory for that R session. That means that if you load data into R (we will do this later), you don’t need to specify a file path.</li>
<li>Open a new script file and save in your working folder</li>
<li>When you finished your session make sure to save your script file first and then close R. When asked whether you want to <code>Save workspace image ?</code>, you can click <code>No</code> since you have everything in the script file.</li>
</ol>
</div>
<div id="how-to-get-help" class="section level1">
<h1><span class="header-section-number">4</span> How to get help</h1>
<p>At this point, we have already used some functions but there are more arguments we can pass into the functions. Whenever you encounter a new function such as <code>plot()</code>, I highly recommend to pull up the help file by typing:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">?plot</a></code></pre></div>
<p>The help files appear sometimes a bit cryptic but you will get used to it. Also note that if you encounter any specific problems or error messages, makes sure to check your spelling (remember R is case-sensitive). If you cannot resolve your problem it often helps to copy and paste the error message and Google it. In 95% of the cases someone has already asked your question on the internet. Another way to get help is through Question and Answer sites such as <a href="https://stackoverflow.com/">Stack Overflow</a> (programming related) or <a href="https://stats.stackexchange.com/">Cross Validated</a> (statistics related). But beware, make sure your read their guides as to what can be asked, how to search the site for answers (in 95% of the cases someone has already asked your question) and lastly how to ask questions. If you fail do to that, your question gets down-voted, likely not answered, and you may get snarky comments. So do your homework first before asking on these sites.</p>
</div>
<div id="atomic-vectors" class="section level1">
<h1><span class="header-section-number">5</span> Atomic vectors</h1>
<p>All data in R is stored in some kind of <strong>vector</strong>. You can think of the most basic vector in R as a <strong>1-dimensional</strong> string of data with a given length, or from an Excel point of view as a contiguous row of cells containing data. Vectors can either be <em>atomic</em> (homogeneous) or <em>generic</em> (heterogeneous) in which case they are called <strong>lists</strong>. Atomic simply means that those vectors can only hold data of the <strong>same basic type</strong>, whereas generic means they can hold <strong>various basic types</strong>. This is an important concept to understand and we will explore this in a bit more detail here. There are <strong>4</strong> types we usually encounter in R: <strong>double</strong>, <strong>integer</strong>, <strong>logical</strong> and <strong>character</strong>. There are two more types, <em>complex</em> and <em>raw</em>, however in statistics and data science we do not need them and hence we will not discuss them here. Also note that everything that enters R in form of data is called an <em>object</em>, and everything that happens to objects is the result of <em>function calls</em>.</p>
<div id="dimensional-vectors" class="section level2">
<h2><span class="header-section-number">5.1</span> 1-dimensional vectors</h2>
<div id="double" class="section level3">
<h3><span class="header-section-number">5.1.1</span> Double</h3>
<p>Let’s create a simple vector of numbers by <strong>c</strong>oncatenating (or combining) them using the concatenate function <code>c()</code> and assigning the output to a new object using the assignment operator <code>&lt;-</code>. But before we do that let’s make it a habit that whenever we come across a new function to look up its documentation by typing<code>?function_name</code> into the console. Pull up the documentation for <code>?c</code> and <code>?"&lt;-"</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">numbers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">-2</span>, <span class="fl">-8.42</span>, <span class="dv">5</span>, <span class="fl">12.4</span>)</a>
<a class="sourceLine" id="cb8-2" title="2">numbers</a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">#&gt; [1]  1.00 -2.00 -8.42  5.00 12.40</span></a></code></pre></div>
<p>To see how many elements are in the <code>numbers</code> vector we use the <code>length()</code> function:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">length</span>(numbers)</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co">#&gt; [1] 5</span></a></code></pre></div>
<p>Based on the vector input, R classifies these numbers into one of the four basic data types mentioned above (<em>logical</em>, <em>integer</em>, <em>double</em> and <em>character</em>). We can check how R classified the input using the <code>typeof()</code> function:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">typeof</span>(numbers)</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="co">#&gt; [1] &quot;double&quot;</span></a></code></pre></div>
<p><strong>Note</strong>: <em>double</em> is a computer term that stands for <a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format">double-precision floating point number</a>. We can simply think of <em>doubles</em> as <strong>numeric</strong> values, which include all real numbers (<span class="math inline">\(\mathbb{R}\)</span>).</p>
</div>
<div id="integer" class="section level3">
<h3><span class="header-section-number">5.1.2</span> Integer</h3>
<p>If you want R to handle numbers as integers, you have to add an <code>L</code> behind the numbers:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">integers &lt;-<span class="st"> </span><span class="kw">c</span>(1L, 4L, 8L, <span class="op">-</span>1L, <span class="op">-</span>14L)</a>
<a class="sourceLine" id="cb11-2" title="2">integers</a>
<a class="sourceLine" id="cb11-3" title="3"><span class="co">#&gt; [1]   1   4   8  -1 -14</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="kw">length</span>(integers)</a>
<a class="sourceLine" id="cb11-5" title="5"><span class="co">#&gt; [1] 5</span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="kw">typeof</span>(integers)</a>
<a class="sourceLine" id="cb11-7" title="7"><span class="co">#&gt; [1] &quot;integer&quot;</span></a></code></pre></div>
</div>
<div id="logical" class="section level3">
<h3><span class="header-section-number">5.1.3</span> Logical</h3>
<p>Often you also work with logical <code>TRUE</code> and <code>FALSE</code> statements (Booleans) when doing comparisons using relational operators (see also <code>?"&lt;"</code> for more details):</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># using numbers</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="dv">3</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">4</span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="dv">5</span> <span class="op">&lt;=</span><span class="st"> </span><span class="dv">4</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="co">#&gt; [1] FALSE</span></a>
<a class="sourceLine" id="cb12-6" title="6"><span class="dv">6</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="dv">3</span> <span class="op">&gt;=</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb12-10" title="10"><span class="dv">5</span> <span class="op">==</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb12-11" title="11"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb12-12" title="12"><span class="dv">5</span> <span class="op">!=</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb12-13" title="13"><span class="co">#&gt; [1] FALSE</span></a>
<a class="sourceLine" id="cb12-14" title="14"></a>
<a class="sourceLine" id="cb12-15" title="15"><span class="co"># using characters</span></a>
<a class="sourceLine" id="cb12-16" title="16">fruits1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;apples&quot;</span>, <span class="st">&quot;apples&quot;</span>, <span class="st">&quot;bananas&quot;</span>, <span class="st">&quot;peaches&quot;</span>)</a>
<a class="sourceLine" id="cb12-17" title="17">fruits2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;bananas&quot;</span>, <span class="st">&quot;apples&quot;</span>, <span class="st">&quot;peaches&quot;</span>, <span class="st">&quot;peaches&quot;</span>)</a>
<a class="sourceLine" id="cb12-18" title="18">fruits1 <span class="op">==</span><span class="st"> </span>fruits2</a>
<a class="sourceLine" id="cb12-19" title="19"><span class="co">#&gt; [1] FALSE  TRUE FALSE  TRUE</span></a>
<a class="sourceLine" id="cb12-20" title="20">fruits1 <span class="op">!=</span><span class="st"> </span>fruits2</a>
<a class="sourceLine" id="cb12-21" title="21"><span class="co">#&gt; [1]  TRUE FALSE  TRUE FALSE</span></a>
<a class="sourceLine" id="cb12-22" title="22">fruits1 <span class="op">&lt;</span><span class="st"> </span>fruits2 <span class="co"># ??</span></a>
<a class="sourceLine" id="cb12-23" title="23"><span class="co">#&gt; [1]  TRUE FALSE  TRUE FALSE</span></a></code></pre></div>
<p>What’s happening here in the last statement? How can apples be smaller than bananas? Have a look at this example and predict what the outcome is before running the code! Hint: R is notorious for sorting alphabetically.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">words1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;aab&quot;</span>, <span class="st">&quot;bab&quot;</span>, <span class="st">&quot;ccc&quot;</span>)</a>
<a class="sourceLine" id="cb13-2" title="2">words2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;aac&quot;</span>, <span class="st">&quot;bba&quot;</span>, <span class="st">&quot;cca&quot;</span>)</a>
<a class="sourceLine" id="cb13-3" title="3">words1 <span class="op">&lt;</span><span class="st"> </span>words2</a></code></pre></div>
<p>You can also compare all elements in a vector using a relational operators. Let’s do this with the two vectors we have created so far:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="co"># our integers vector</span></a>
<a class="sourceLine" id="cb14-2" title="2">integers</a>
<a class="sourceLine" id="cb14-3" title="3"><span class="co">#&gt; [1]   1   4   8  -1 -14</span></a>
<a class="sourceLine" id="cb14-4" title="4">logicals_int &lt;-<span class="st"> </span>integers <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="co"># assign the output to a new object</span></a>
<a class="sourceLine" id="cb14-5" title="5">logicals_int</a>
<a class="sourceLine" id="cb14-6" title="6"><span class="co">#&gt; [1] FALSE  TRUE  TRUE FALSE FALSE</span></a>
<a class="sourceLine" id="cb14-7" title="7"><span class="kw">typeof</span>(logicals_int)</a>
<a class="sourceLine" id="cb14-8" title="8"><span class="co">#&gt; [1] &quot;logical&quot;</span></a>
<a class="sourceLine" id="cb14-9" title="9"></a>
<a class="sourceLine" id="cb14-10" title="10"><span class="co"># our numbers vector</span></a>
<a class="sourceLine" id="cb14-11" title="11">numbers</a>
<a class="sourceLine" id="cb14-12" title="12"><span class="co">#&gt; [1]  1.00 -2.00 -8.42  5.00 12.40</span></a>
<a class="sourceLine" id="cb14-13" title="13">logicals_num &lt;-<span class="st"> </span>numbers <span class="op">&lt;</span><span class="st"> </span><span class="dv">-1</span> <span class="co"># assign the output to a new object</span></a>
<a class="sourceLine" id="cb14-14" title="14">logicals_num</a>
<a class="sourceLine" id="cb14-15" title="15"><span class="co">#&gt; [1] FALSE  TRUE  TRUE FALSE FALSE</span></a>
<a class="sourceLine" id="cb14-16" title="16"><span class="kw">typeof</span>(logicals_num)</a>
<a class="sourceLine" id="cb14-17" title="17"><span class="co">#&gt; [1] &quot;logical&quot;</span></a>
<a class="sourceLine" id="cb14-18" title="18"></a>
<a class="sourceLine" id="cb14-19" title="19"><span class="co"># Not good!</span></a>
<a class="sourceLine" id="cb14-20" title="20">logicals_num &lt;-<span class="st"> </span>numbers &lt;-<span class="dv">1</span> <span class="co"># do we really want to do that?</span></a>
<a class="sourceLine" id="cb14-21" title="21">logicals_num <span class="co"># what has happened?</span></a>
<a class="sourceLine" id="cb14-22" title="22"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb14-23" title="23"><span class="kw">typeof</span>(logicals_num) <span class="co"># ???</span></a>
<a class="sourceLine" id="cb14-24" title="24"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb14-25" title="25"></a>
<a class="sourceLine" id="cb14-26" title="26"><span class="co"># Let&#39;s revert back to what we had before</span></a>
<a class="sourceLine" id="cb14-27" title="27">numbers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">-2</span>, <span class="fl">-8.42</span>, <span class="dv">5</span>, <span class="fl">12.4</span>)</a></code></pre></div>
<p><strong>Side note: assignment operator <code>&lt;-</code> vs. equals operator <code>=</code></strong></p>
<p>In the last step above, we asked which elements of <code>numbers</code> are smaller than minus 1. The space here between <code>&lt; -1</code> is very important. If this is typed incorrectly (as in the last example above), you will get something you likely did not want. As you can imagine if this goes unnoticed during an analysis, it can lead to wrong conclusions at worst and if did notice an unexpected results, it may take some time to figure out where it went wrong. To avoid this you could use the equals operator <code>=</code> instead of the assignment operator <code>&lt;-</code> to assign a value to a variable name, however there are also potential issues with that. One of which is that the arguments in a function are set by the <code>=</code> operator, for example consider the function <code>rnorm()</code> which generates random numbers from the normal distribution with given mean and standard deviation. Let’s look at the documentation first <code>?rnorm</code>. There you see that you can specify arguments to the function using <code>=</code>. In this case you cannot use the <code>&lt;-</code> operator. Consider the following example:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">rnorm</span>(<span class="dv">10</span>) <span class="co"># gives you 10 random sample from the normal distribution of mean = 0 and sd = 1</span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="co">#&gt;  [1] -0.99223309  3.86194601  1.86825966 -0.03500396 -2.06035151</span></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="co">#&gt;  [6] -0.08821928  0.73442151  0.39907579 -0.71134938 -0.93094642</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dt">mean =</span> <span class="dv">10</span>, <span class="dt">sd =</span> <span class="dv">4</span>) <span class="co"># works as expected</span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="co">#&gt;  [1]  8.900756  7.382215 10.305575 13.872070 12.243244  9.523548 15.550020</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="co">#&gt;  [8]  1.117109 11.614193 11.252285</span></a></code></pre></div>
<p>While in this case <code>mean</code> and <code>sd</code> are an arguments to the <code>rnorm</code> function, they are also functions of themselves outside of the <code>rnorm</code> function environment. Now if we were to use the assignment operator to set the value of an argument in a function, we can create problems that could take hours of trouble shooting if something doesn’t work as expected:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">rnorm</span>(<span class="dv">10</span>, mean &lt;-<span class="st"> </span><span class="dv">10</span>, sd &lt;-<span class="st"> </span><span class="dv">4</span>) <span class="co"># seems to work but let&#39;s check what type `mean` is now</span></a>
<a class="sourceLine" id="cb16-2" title="2"><span class="co">#&gt;  [1]  5.026157 15.927975  7.826769  7.088887  4.193694 11.516731 10.882932</span></a>
<a class="sourceLine" id="cb16-3" title="3"><span class="co">#&gt;  [8]  3.810008  4.511116  9.847366</span></a>
<a class="sourceLine" id="cb16-4" title="4"><span class="kw">typeof</span>(mean); <span class="kw">typeof</span>(sd) <span class="co"># not good!</span></a>
<a class="sourceLine" id="cb16-5" title="5"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb16-6" title="6"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb16-7" title="7"><span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)) <span class="co"># using means as a function still works though</span></a>
<a class="sourceLine" id="cb16-8" title="8"><span class="co">#&gt; [1] 2.5</span></a>
<a class="sourceLine" id="cb16-9" title="9"><span class="kw">sd</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)) <span class="co"># using sd as a function still works though</span></a>
<a class="sourceLine" id="cb16-10" title="10"><span class="co">#&gt; [1] 1.290994</span></a></code></pre></div>
<p>As you can see there are differences between those operators and you need to be aware of them. I personally would suggest using <code>&lt;-</code> to assign values to variable names and not <code>=</code>. Now let’s check what objects we have in our workspace and remove <code>mean</code> and <code>sd</code> from it using the <code>rm()</code> function (see <code>?rm</code>):</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">ls</span>() <span class="co"># show what&#39;s in the workspace</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="co">#&gt;  [1] &quot;error&quot;        &quot;fruits1&quot;      &quot;fruits2&quot;      &quot;integers&quot;    </span></a>
<a class="sourceLine" id="cb17-3" title="3"><span class="co">#&gt;  [5] &quot;logicals_int&quot; &quot;logicals_num&quot; &quot;mean&quot;         &quot;my_sequence&quot; </span></a>
<a class="sourceLine" id="cb17-4" title="4"><span class="co">#&gt;  [9] &quot;numbers&quot;      &quot;sd&quot;           &quot;x&quot;            &quot;y&quot;</span></a>
<a class="sourceLine" id="cb17-5" title="5"><span class="kw">rm</span>(mean, sd) <span class="co"># remove `mean` and `sd` from the workspace</span></a>
<a class="sourceLine" id="cb17-6" title="6"><span class="kw">ls</span>() </a>
<a class="sourceLine" id="cb17-7" title="7"><span class="co">#&gt;  [1] &quot;error&quot;        &quot;fruits1&quot;      &quot;fruits2&quot;      &quot;integers&quot;    </span></a>
<a class="sourceLine" id="cb17-8" title="8"><span class="co">#&gt;  [5] &quot;logicals_int&quot; &quot;logicals_num&quot; &quot;my_sequence&quot;  &quot;numbers&quot;     </span></a>
<a class="sourceLine" id="cb17-9" title="9"><span class="co">#&gt;  [9] &quot;x&quot;            &quot;y&quot;</span></a>
<a class="sourceLine" id="cb17-10" title="10"><span class="kw">typeof</span>(mean); <span class="kw">typeof</span>(sd) <span class="co"># all good again</span></a>
<a class="sourceLine" id="cb17-11" title="11"><span class="co">#&gt; [1] &quot;closure&quot;</span></a>
<a class="sourceLine" id="cb17-12" title="12"><span class="co">#&gt; [1] &quot;closure&quot;</span></a></code></pre></div>
<p>This also means that if you assign values to objects, make sure you pick a name that is not a function or object already. You can try this for example by typing <code>?your_object_name</code> and see if R has a help file for it and then also check your workspace (<code>ls()</code>) if you have already created this name earlier in your R session.</p>
<p>OK, after this little detour let’s get back to the basic data types in R. So far we looked at doubles, integers, and logicals but there is one more we need to look at.</p>
</div>
<div id="character" class="section level3">
<h3><span class="header-section-number">5.1.4</span> Character</h3>
<p>Quite often we also want to store characters or text in vectors. This is done by specifying the character string with single or double quotation marks <code>"double quotation marks"</code> or <code>'single quotation marks'</code> but not mixing them <code>"do not mix quotation marks'</code>.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1">characters &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Thomas&quot;</span>, <span class="st">&quot;John&quot;</span>, <span class="st">&quot;Sarah&quot;</span>, <span class="st">&quot;my dog is the best&quot;</span>, <span class="st">&quot;good bye&quot;</span>)</a>
<a class="sourceLine" id="cb18-2" title="2">characters</a>
<a class="sourceLine" id="cb18-3" title="3"><span class="co">#&gt; [1] &quot;Thomas&quot;             &quot;John&quot;               &quot;Sarah&quot;             </span></a>
<a class="sourceLine" id="cb18-4" title="4"><span class="co">#&gt; [4] &quot;my dog is the best&quot; &quot;good bye&quot;</span></a>
<a class="sourceLine" id="cb18-5" title="5"><span class="kw">typeof</span>(characters)</a>
<a class="sourceLine" id="cb18-6" title="6"><span class="co">#&gt; [1] &quot;character&quot;</span></a>
<a class="sourceLine" id="cb18-7" title="7"><span class="kw">length</span>(characters)</a>
<a class="sourceLine" id="cb18-8" title="8"><span class="co">#&gt; [1] 5</span></a></code></pre></div>
<p>Can we do arithmetic with characters? There is only one way to find out!</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1">characters <span class="op">+</span><span class="st"> </span><span class="dv">5</span></a></code></pre></div>
<pre class="red"><code>#&gt; Error in characters + 5: non-numeric argument to binary operator</code></pre>
<p>Clearly we cannot do arithmetic with characters but we can do string manipulation, which is also an important part of data science. String manipulation involves detecting characters in strings, replacing characters in strings, or removing characters from strings. But we will save this for tomorrow.</p>
</div>
</div>
<div id="augmented-vectors" class="section level2">
<h2><span class="header-section-number">5.2</span> Augmented vectors</h2>
<p>So far we have looked at atomic vectors of the base type, <code>double</code>, <code>integer</code>, <code>logical</code>, <code>character</code> (we ignored <code>complex</code> and <code>raw</code> since we likely will never encounter them statistics). In order to identify what type a vector is made of, we use the <code>typeof()</code> function. Now we introduce two more types of vectors which do not directly belong to the base types but instead are built on top of the base types: factors (<code>?factor</code>) and dates (<code>?date</code>). We will call those vectors <a href="https://r4ds.had.co.nz/vectors.html#augmented-vectors">augmented vectors</a> to be consistent with the terminology used in the <a href="https://r4ds.had.co.nz">R for Data Science</a> book. <em>Augmented</em> means that these vectors contain additional attributes including a class and also may behave differently compared to the vectors on which they were built.</p>
<div id="factors" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Factors</h3>
<p>Factors are used when you have categorical data for example you take three measurements for each of three treatments:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1">treat &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;C&quot;</span>)</a>
<a class="sourceLine" id="cb21-2" title="2">treat</a>
<a class="sourceLine" id="cb21-3" title="3"><span class="co">#&gt; [1] &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot; &quot;C&quot; &quot;C&quot; &quot;C&quot;</span></a>
<a class="sourceLine" id="cb21-4" title="4"><span class="kw">attributes</span>(treat) <span class="co"># note that `treat` vector has no attributes yet</span></a>
<a class="sourceLine" id="cb21-5" title="5"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb21-6" title="6"><span class="kw">typeof</span>(treat)</a>
<a class="sourceLine" id="cb21-7" title="7"><span class="co">#&gt; [1] &quot;character&quot;</span></a>
<a class="sourceLine" id="cb21-8" title="8"><span class="kw">class</span>(treat)</a>
<a class="sourceLine" id="cb21-9" title="9"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<p>Using the <code>factor()</code> function we can turn these character strings into categories with different levels:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1">treat_f &lt;-<span class="st"> </span><span class="kw">factor</span>(treat, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>))</a>
<a class="sourceLine" id="cb22-2" title="2">treat_f</a>
<a class="sourceLine" id="cb22-3" title="3"><span class="co">#&gt; [1] A A A B B B C C C</span></a>
<a class="sourceLine" id="cb22-4" title="4"><span class="co">#&gt; Levels: A B C</span></a>
<a class="sourceLine" id="cb22-5" title="5"><span class="kw">attributes</span>(treat_f) <span class="co"># now we have a class and levels added as an additional attributes</span></a>
<a class="sourceLine" id="cb22-6" title="6"><span class="co">#&gt; $levels</span></a>
<a class="sourceLine" id="cb22-7" title="7"><span class="co">#&gt; [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;</span></a>
<a class="sourceLine" id="cb22-8" title="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb22-9" title="9"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb22-10" title="10"><span class="co">#&gt; [1] &quot;factor&quot;</span></a>
<a class="sourceLine" id="cb22-11" title="11"><span class="kw">typeof</span>(treat_f) <span class="co"># factors are built on the character type</span></a>
<a class="sourceLine" id="cb22-12" title="12"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb22-13" title="13"><span class="kw">class</span>(treat_f) <span class="co"># using class we can now identify `treat_f` as factor!</span></a>
<a class="sourceLine" id="cb22-14" title="14"><span class="co">#&gt; [1] &quot;factor&quot;</span></a></code></pre></div>
</div>
<div id="dates" class="section level3">
<h3><span class="header-section-number">5.2.2</span> Dates</h3>
<p>Dates are slightly more complicated since they need a starting date or reference date from which to start counting. Dates can also specify timezone as well as the actual time. By default dates are of the class <code>POSIXct</code> that represent the number of seconds since 1 January 1970. For this course, we will stick to the defaults and later use the <em>tidyverse</em> package <a href="https://lubridate.tidyverse.org/"><code>lubridate</code></a> to work with dates as it is much user friendly.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1">dates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2019-03-11&quot;</span>, <span class="st">&quot;2019-03-12&quot;</span>, <span class="st">&quot;2019-03-13&quot;</span>)</a>
<a class="sourceLine" id="cb23-2" title="2">dates</a>
<a class="sourceLine" id="cb23-3" title="3"><span class="co">#&gt; [1] &quot;2019-03-11&quot; &quot;2019-03-12&quot; &quot;2019-03-13&quot;</span></a>
<a class="sourceLine" id="cb23-4" title="4"><span class="kw">attributes</span>(dates)</a>
<a class="sourceLine" id="cb23-5" title="5"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb23-6" title="6"><span class="kw">typeof</span>(dates)</a>
<a class="sourceLine" id="cb23-7" title="7"><span class="co">#&gt; [1] &quot;character&quot;</span></a>
<a class="sourceLine" id="cb23-8" title="8"><span class="kw">class</span>(dates)</a>
<a class="sourceLine" id="cb23-9" title="9"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<p>To change a date character string into a <code>Date</code> object we use <code>as.Date()</code> function:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1">dates &lt;-<span class="st"> </span><span class="kw">as.Date</span>(dates)</a>
<a class="sourceLine" id="cb24-2" title="2">dates</a>
<a class="sourceLine" id="cb24-3" title="3"><span class="co">#&gt; [1] &quot;2019-03-11&quot; &quot;2019-03-12&quot; &quot;2019-03-13&quot;</span></a>
<a class="sourceLine" id="cb24-4" title="4"><span class="kw">attributes</span>(dates)</a>
<a class="sourceLine" id="cb24-5" title="5"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb24-6" title="6"><span class="co">#&gt; [1] &quot;Date&quot;</span></a>
<a class="sourceLine" id="cb24-7" title="7"><span class="kw">typeof</span>(dates)</a>
<a class="sourceLine" id="cb24-8" title="8"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb24-9" title="9"><span class="kw">class</span>(dates)</a>
<a class="sourceLine" id="cb24-10" title="10"><span class="co">#&gt; [1] &quot;Date&quot;</span></a></code></pre></div>
<p>Since we now have a <code>Date</code> object we can also add or subtract days:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1">dates <span class="op">+</span><span class="st"> </span><span class="dv">60</span></a>
<a class="sourceLine" id="cb25-2" title="2"><span class="co">#&gt; [1] &quot;2019-05-10&quot; &quot;2019-05-11&quot; &quot;2019-05-12&quot;</span></a>
<a class="sourceLine" id="cb25-3" title="3">dates <span class="op">-</span><span class="st"> </span><span class="dv">12</span></a>
<a class="sourceLine" id="cb25-4" title="4"><span class="co">#&gt; [1] &quot;2019-02-27&quot; &quot;2019-02-28&quot; &quot;2019-03-01&quot;</span></a>
<a class="sourceLine" id="cb25-5" title="5"></a>
<a class="sourceLine" id="cb25-6" title="6"><span class="co"># Get a more complicated date object: the system time of your computer</span></a>
<a class="sourceLine" id="cb25-7" title="7">system_time &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()</a>
<a class="sourceLine" id="cb25-8" title="8">system_time</a>
<a class="sourceLine" id="cb25-9" title="9"><span class="co">#&gt; [1] &quot;2019-03-19 12:35:39 MDT&quot;</span></a>
<a class="sourceLine" id="cb25-10" title="10"><span class="kw">attributes</span>(system_time)</a>
<a class="sourceLine" id="cb25-11" title="11"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb25-12" title="12"><span class="co">#&gt; [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</span></a>
<a class="sourceLine" id="cb25-13" title="13"><span class="kw">typeof</span>(system_time)</a>
<a class="sourceLine" id="cb25-14" title="14"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb25-15" title="15"><span class="kw">class</span>(system_time)</a>
<a class="sourceLine" id="cb25-16" title="16"><span class="co">#&gt; [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</span></a></code></pre></div>
<p>As you can see, making sure that your data is in the right format (in this case <code>as.Date()</code>) allows you to do the right things with it. We will encounter dates again when we plot time series data tomorrow.</p>
</div>
</div>
<div id="typeof-vs.-class" class="section level2">
<h2><span class="header-section-number">5.3</span> <code>typeof()</code> vs. <code>class()</code></h2>
<p>As you saw above I also used the <code>class()</code> function to get the information what type, or in this case, what class an object belongs to. Under the <code>class()</code> function <code>doubles</code> and <code>integers</code> are both treated as <code>numeric</code>. The main difference between the <code>typeof()</code> and <code>class()</code> functions is that <code>typeof()</code> is a <strong>mutually exclusive classification</strong> based on the <strong>basic structure</strong> of the object. For example, an integer vector will always be of the type <code>integer</code>. You cannot overwrite it to something else. The function <code>class()</code> on the other hand provides a more flexible way of classifying objects. This can be useful if you are a programmer or developer who wants to create functions for specific data types other than the base types. This type of programming is called <em>object-oriented</em> programming. Consider the following example of how you can change the class of an object but not its basic type:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" title="1">integers</a>
<a class="sourceLine" id="cb26-2" title="2"><span class="co">#&gt; [1]   1   4   8  -1 -14</span></a>
<a class="sourceLine" id="cb26-3" title="3"><span class="co"># attempting to overwrite the integer type</span></a>
<a class="sourceLine" id="cb26-4" title="4"><span class="kw">typeof</span>(integers) &lt;-<span class="st"> &quot;character&quot;</span></a></code></pre></div>
<pre class="red"><code>#&gt; Error in typeof(integers) &lt;- &quot;character&quot;: could not find function &quot;typeof&lt;-&quot;</code></pre>
<p>What does the above error message mean? Let’s test whether we can change the class attribute of a vector.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" title="1"><span class="co"># with `class()` this is possible (but not advisable, unless you know what you are doing ;))</span></a>
<a class="sourceLine" id="cb28-2" title="2"><span class="kw">class</span>(integers)</a>
<a class="sourceLine" id="cb28-3" title="3"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb28-4" title="4"><span class="kw">class</span>(integers) &lt;-<span class="st"> &quot;my_new_class&quot;</span></a>
<a class="sourceLine" id="cb28-5" title="5"><span class="kw">class</span>(integers)</a>
<a class="sourceLine" id="cb28-6" title="6"><span class="co">#&gt; [1] &quot;my_new_class&quot;</span></a>
<a class="sourceLine" id="cb28-7" title="7"><span class="kw">typeof</span>(integers)</a>
<a class="sourceLine" id="cb28-8" title="8"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb28-9" title="9">integers</a>
<a class="sourceLine" id="cb28-10" title="10"><span class="co">#&gt; [1]   1   4   8  -1 -14</span></a>
<a class="sourceLine" id="cb28-11" title="11"><span class="co">#&gt; attr(,&quot;class&quot;)</span></a>
<a class="sourceLine" id="cb28-12" title="12"><span class="co">#&gt; [1] &quot;my_new_class&quot;</span></a>
<a class="sourceLine" id="cb28-13" title="13">integers &lt;-<span class="st"> </span><span class="kw">unclass</span>(integers) <span class="co"># removing class attribute</span></a>
<a class="sourceLine" id="cb28-14" title="14">integers</a>
<a class="sourceLine" id="cb28-15" title="15"><span class="co">#&gt; [1]   1   4   8  -1 -14</span></a>
<a class="sourceLine" id="cb28-16" title="16"><span class="kw">class</span>(integers)</a>
<a class="sourceLine" id="cb28-17" title="17"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb28-18" title="18"><span class="kw">typeof</span>(integers)</a>
<a class="sourceLine" id="cb28-19" title="19"><span class="co">#&gt; [1] &quot;integer&quot;</span></a></code></pre></div>
<p>Here is another way of thinking about the <em>object-oriented</em> programming style. Suppose you are a programmer and your goal is to write functions that apply to various different types of cars. Also let’s assume that there is a basic data type named <code>car</code>, which cannot be overwritten (similar to <code>logical</code>, <code>double</code>, <code>integer</code> etc.). So whenever you call <code>typeof()</code> on any car object it will evaluate to <code>car</code>. It makes sense now to develop additional classes on top of the basic types so that you can differentiate between different car objects. Say for example you have a car object named <a href="https://en.wikipedia.org/wiki/Lightning_McQueen">mc_queen</a>, calling <code>typeof(mc_queen)</code> would evaluate to <code>car</code>. Since <a href="https://en.wikipedia.org/wiki/Lightning_McQueen">Lightning McQueen</a> is also a race car you decide to create a new class named <code>racer</code> for race car objects which could then be passed into the race-specific function <code>traction()</code> to change the traction behavior when taking high speed chicanes.</p>
<p>Long story short, R programmers have already made extensive use of this in order to extend the statistical capabilities of R. Many different class objects have been developed to do various different statistical tasks. Throughout the course we continue to check the class and attributes of new objects to become more familiar with them.</p>
</div>
<div id="coercion" class="section level2">
<h2><span class="header-section-number">5.4</span> Coercion</h2>
<div id="implicit-coercion-by-r" class="section level3">
<h3><span class="header-section-number">5.4.1</span> Implicit coercion (by R)</h3>
<p>So far we have always followed the rule of creating 1-dimensional atomic vectors using the same basic data type only. But what if you try to mix data types within a vector? If that happens, R will coerce (or change) them to the next appropriate data type according to the following hierarchy: <code>logical &lt; integer &lt; double &lt; character</code>. Let’s see for ourselves:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" title="1">mix1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, 1L, <span class="op">-</span>12L)</a>
<a class="sourceLine" id="cb29-2" title="2"><span class="kw">typeof</span>(mix1)</a>
<a class="sourceLine" id="cb29-3" title="3"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb29-4" title="4">mix2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, 1L, <span class="op">-</span>12L, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb29-5" title="5"><span class="kw">typeof</span>(mix2)</a>
<a class="sourceLine" id="cb29-6" title="6"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb29-7" title="7">mix3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, 1L, <span class="op">-</span>12L, <span class="dv">4</span>, <span class="st">&quot;what will happen next?&quot;</span>)</a>
<a class="sourceLine" id="cb29-8" title="8"><span class="kw">typeof</span>(mix3)</a>
<a class="sourceLine" id="cb29-9" title="9"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<p>This also happens if you, for example, pass a vector into a function that expected a different type. What would you expect if you pass our logical vector <code>logicals_int</code> to the <code>mean()</code> or <code>sum()</code> function?</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" title="1">logicals_int</a>
<a class="sourceLine" id="cb30-2" title="2"><span class="co">#&gt; [1] FALSE  TRUE  TRUE FALSE FALSE</span></a>
<a class="sourceLine" id="cb30-3" title="3"><span class="kw">typeof</span>(logicals_int)</a>
<a class="sourceLine" id="cb30-4" title="4"><span class="co">#&gt; [1] &quot;logical&quot;</span></a>
<a class="sourceLine" id="cb30-5" title="5">logicals_mean &lt;-<span class="st"> </span><span class="kw">mean</span>(logicals_int)</a>
<a class="sourceLine" id="cb30-6" title="6">logicals_mean <span class="co"># proportion of 1s or TRUEs</span></a>
<a class="sourceLine" id="cb30-7" title="7"><span class="co">#&gt; [1] 0.4</span></a>
<a class="sourceLine" id="cb30-8" title="8"><span class="kw">typeof</span>(logicals_mean)</a>
<a class="sourceLine" id="cb30-9" title="9"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb30-10" title="10">logicals_sum &lt;-<span class="st"> </span><span class="kw">sum</span>(logicals_int) <span class="co"># sum of 1s or TRUEs</span></a>
<a class="sourceLine" id="cb30-11" title="11">logicals_sum <span class="co"># note that the data type is integer now</span></a>
<a class="sourceLine" id="cb30-12" title="12"><span class="co">#&gt; [1] 2</span></a></code></pre></div>
<p>That makes sense! <code>TRUE, FALSE</code> can also be represented as <code>1</code>,<code>0</code>. So when the <code>mean()</code> or <code>sum()</code> function evaluates a logical vector, it coerces it into an integer vector first and then executes the call. All of this happens internally and you will only hear back from R if it did not work. Now would it be sensible for the <code>sum()</code> function to take a character vector? Let’s try it out using our <code>characters</code> vector from earlier:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" title="1"><span class="kw">sum</span>(characters)</a></code></pre></div>
<pre class="red"><code>#&gt; Error in sum(characters): invalid &#39;type&#39; (character) of argument</code></pre>
<p>No, this does not make sense and hence R will let you know with an error message. By the way, if a message is red, it does not always mean that it is an error message — it could also be a warning, which means that R was able to execute the function call but something was not as expected. We will see one later today.</p>
</div>
<div id="explicit-coercion-by-you" class="section level3">
<h3><span class="header-section-number">5.4.2</span> Explicit coercion (by you)</h3>
<p>Sometimes you also need to coerce vectors yourself during an analysis or check their type. For that, R has a series of functions known as <em>coercion</em> and <em>membership</em> functions. Coercion functions all start with <code>as.</code> and then you add the type you want, e.g. <code>as.character</code>. Membership functions all start with <code>is.</code> and then you add the type, e.g. <code>is.logical</code> resulting in a <code>TRUE</code> or <code>FALSE</code> response. Explore them in more detail by pulling up the documentation for those function with the <code>?</code> operator, then have a look at the following example:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" title="1"><span class="co"># some more integers</span></a>
<a class="sourceLine" id="cb33-2" title="2">more_integers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb33-3" title="3"><span class="kw">typeof</span>(more_integers)</a>
<a class="sourceLine" id="cb33-4" title="4"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb33-5" title="5"><span class="kw">class</span>(more_integers)</a>
<a class="sourceLine" id="cb33-6" title="6"><span class="co">#&gt; [1] &quot;numeric&quot;</span></a>
<a class="sourceLine" id="cb33-7" title="7"></a>
<a class="sourceLine" id="cb33-8" title="8"><span class="co"># you can ask R if something is of a certain type or class and it will answer you!</span></a>
<a class="sourceLine" id="cb33-9" title="9"><span class="kw">is.integer</span>(more_integers)</a>
<a class="sourceLine" id="cb33-10" title="10"><span class="co">#&gt; [1] FALSE</span></a>
<a class="sourceLine" id="cb33-11" title="11"></a>
<a class="sourceLine" id="cb33-12" title="12"><span class="co"># explicitly coercing as integer</span></a>
<a class="sourceLine" id="cb33-13" title="13">more_integers &lt;-<span class="st"> </span><span class="kw">as.integer</span>(more_integers)</a>
<a class="sourceLine" id="cb33-14" title="14"><span class="kw">typeof</span>(more_integers)</a>
<a class="sourceLine" id="cb33-15" title="15"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb33-16" title="16"><span class="kw">class</span>(more_integers)</a>
<a class="sourceLine" id="cb33-17" title="17"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb33-18" title="18"><span class="kw">is.integer</span>(more_integers)</a>
<a class="sourceLine" id="cb33-19" title="19"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb33-20" title="20"></a>
<a class="sourceLine" id="cb33-21" title="21"><span class="co"># remember what happens with logical to integer</span></a>
<a class="sourceLine" id="cb33-22" title="22">logicals &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb33-23" title="23"><span class="kw">typeof</span>(logicals)</a>
<a class="sourceLine" id="cb33-24" title="24"><span class="co">#&gt; [1] &quot;logical&quot;</span></a>
<a class="sourceLine" id="cb33-25" title="25"><span class="kw">as.integer</span>(logicals)</a>
<a class="sourceLine" id="cb33-26" title="26"><span class="co">#&gt; [1] 1 0 0 0 1</span></a></code></pre></div>
</div>
</div>
<div id="n-dimensional-vectors" class="section level2">
<h2><span class="header-section-number">5.5</span> n-dimensional vectors</h2>
<div id="matrix" class="section level3">
<h3><span class="header-section-number">5.5.1</span> Matrix</h3>
<p>So far we have only talked about <em>1-dimensional</em> atomic vectors. However, the data we work with is usually stored in <strong>2-dimensional</strong> tables. In R a 2-dimensional atomic vector is called a <code>matrix</code>, whereas a n-dimensional object is called an <code>array</code>. Since matrices and arrays belong to the n-dimensional <strong>atomic vector</strong> type, their elements must be of the <em>same basic data type</em>. We can build matrices using the <code>matrix()</code> function (see <code>?matrix</code>) and arrays using the <code>array()</code> function. For this introduction however, we will not discuss arrays any further because they are rarely used. If you want to learn more about arrays, pull up their documentation <code>?array</code>.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" title="1">mat_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>) <span class="co"># 1:9 generates a sequence of integers</span></a>
<a class="sourceLine" id="cb34-2" title="2">mat_<span class="dv">1</span></a>
<a class="sourceLine" id="cb34-3" title="3"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb34-4" title="4"><span class="co">#&gt; [1,]    1    2    3</span></a>
<a class="sourceLine" id="cb34-5" title="5"><span class="co">#&gt; [2,]    4    5    6</span></a>
<a class="sourceLine" id="cb34-6" title="6"><span class="co">#&gt; [3,]    7    8    9</span></a>
<a class="sourceLine" id="cb34-7" title="7"><span class="kw">typeof</span>(mat_<span class="dv">1</span>) <span class="co"># basic type</span></a>
<a class="sourceLine" id="cb34-8" title="8"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb34-9" title="9"><span class="kw">class</span>(mat_<span class="dv">1</span>) <span class="co"># class</span></a>
<a class="sourceLine" id="cb34-10" title="10"><span class="co">#&gt; [1] &quot;matrix&quot;</span></a>
<a class="sourceLine" id="cb34-11" title="11"><span class="kw">is.atomic</span>(mat_<span class="dv">1</span>) <span class="co"># atomic or not?!</span></a>
<a class="sourceLine" id="cb34-12" title="12"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
<p>Try to set the <code>byrow = TRUE</code> argument to <code>FALSE</code> and see what happens. Can you figure out what is going on?</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" title="1">mat_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">FALSE</span>) <span class="co"># 1:9 generates a sequence of integers</span></a>
<a class="sourceLine" id="cb35-2" title="2">mat_<span class="dv">2</span></a>
<a class="sourceLine" id="cb35-3" title="3"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb35-4" title="4"><span class="co">#&gt; [1,]    1    4    7</span></a>
<a class="sourceLine" id="cb35-5" title="5"><span class="co">#&gt; [2,]    2    5    8</span></a>
<a class="sourceLine" id="cb35-6" title="6"><span class="co">#&gt; [3,]    3    6    9</span></a></code></pre></div>
<p>What will happen if we try to squeeze 10 numbers into a 3 column matrix?</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" title="1">mat_bind &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<pre class="red"><code>#&gt; Warning in matrix(1:10, ncol = 3, byrow = FALSE): data length [10] is not a
#&gt; sub-multiple or multiple of the number of rows [4]</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" title="1">mat_bind</a>
<a class="sourceLine" id="cb38-2" title="2"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb38-3" title="3"><span class="co">#&gt; [1,]    1    5    9</span></a>
<a class="sourceLine" id="cb38-4" title="4"><span class="co">#&gt; [2,]    2    6   10</span></a>
<a class="sourceLine" id="cb38-5" title="5"><span class="co">#&gt; [3,]    3    7    1</span></a>
<a class="sourceLine" id="cb38-6" title="6"><span class="co">#&gt; [4,]    4    8    2</span></a></code></pre></div>
<p>Can you decipher what triggered the <strong>warning</strong> message (not an error message)?</p>
<p>You can also create a matrix by binding atomic vectors together in columns using the <code>cbind()</code> function (see <code>?cbind</code>). In this example, I build a matrix out of the different vector we have created so far:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" title="1">mat_bind &lt;-<span class="st"> </span><span class="kw">cbind</span>(more_integers, characters, logicals, integers, numbers)</a></code></pre></div>
<pre class="red"><code>#&gt; Warning in cbind(more_integers, characters, logicals, integers, numbers):
#&gt; number of rows of result is not a multiple of vector length (arg 2)</code></pre>
<p>Look at the output below and troubleshoot why the warning was generated!</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1">mat_bind</a>
<a class="sourceLine" id="cb41-2" title="2"><span class="co">#&gt;      more_integers characters           logicals integers numbers</span></a>
<a class="sourceLine" id="cb41-3" title="3"><span class="co">#&gt; [1,] &quot;4&quot;           &quot;Thomas&quot;             &quot;TRUE&quot;   &quot;1&quot;      &quot;1&quot;    </span></a>
<a class="sourceLine" id="cb41-4" title="4"><span class="co">#&gt; [2,] &quot;1&quot;           &quot;John&quot;               &quot;FALSE&quot;  &quot;4&quot;      &quot;-2&quot;   </span></a>
<a class="sourceLine" id="cb41-5" title="5"><span class="co">#&gt; [3,] &quot;6&quot;           &quot;Sarah&quot;              &quot;FALSE&quot;  &quot;8&quot;      &quot;-8.42&quot;</span></a>
<a class="sourceLine" id="cb41-6" title="6"><span class="co">#&gt; [4,] &quot;4&quot;           &quot;my dog is the best&quot; &quot;FALSE&quot;  &quot;-1&quot;     &quot;5&quot;    </span></a>
<a class="sourceLine" id="cb41-7" title="7"><span class="co">#&gt; [5,] &quot;7&quot;           &quot;good bye&quot;           &quot;TRUE&quot;   &quot;-14&quot;    &quot;12.4&quot; </span></a>
<a class="sourceLine" id="cb41-8" title="8"><span class="co">#&gt; [6,] &quot;8&quot;           &quot;Thomas&quot;             &quot;TRUE&quot;   &quot;1&quot;      &quot;1&quot;</span></a>
<a class="sourceLine" id="cb41-9" title="9"><span class="kw">typeof</span>(mat_bind)</a>
<a class="sourceLine" id="cb41-10" title="10"><span class="co">#&gt; [1] &quot;character&quot;</span></a>
<a class="sourceLine" id="cb41-11" title="11"><span class="kw">class</span>(mat_bind)</a>
<a class="sourceLine" id="cb41-12" title="12"><span class="co">#&gt; [1] &quot;matrix&quot;</span></a>
<a class="sourceLine" id="cb41-13" title="13"><span class="kw">rownames</span>(mat_bind) &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">6</span> <span class="co"># you can also give rows names (numbers of characters work)</span></a>
<a class="sourceLine" id="cb41-14" title="14">mat_bind</a>
<a class="sourceLine" id="cb41-15" title="15"><span class="co">#&gt;   more_integers characters           logicals integers numbers</span></a>
<a class="sourceLine" id="cb41-16" title="16"><span class="co">#&gt; 1 &quot;4&quot;           &quot;Thomas&quot;             &quot;TRUE&quot;   &quot;1&quot;      &quot;1&quot;    </span></a>
<a class="sourceLine" id="cb41-17" title="17"><span class="co">#&gt; 2 &quot;1&quot;           &quot;John&quot;               &quot;FALSE&quot;  &quot;4&quot;      &quot;-2&quot;   </span></a>
<a class="sourceLine" id="cb41-18" title="18"><span class="co">#&gt; 3 &quot;6&quot;           &quot;Sarah&quot;              &quot;FALSE&quot;  &quot;8&quot;      &quot;-8.42&quot;</span></a>
<a class="sourceLine" id="cb41-19" title="19"><span class="co">#&gt; 4 &quot;4&quot;           &quot;my dog is the best&quot; &quot;FALSE&quot;  &quot;-1&quot;     &quot;5&quot;    </span></a>
<a class="sourceLine" id="cb41-20" title="20"><span class="co">#&gt; 5 &quot;7&quot;           &quot;good bye&quot;           &quot;TRUE&quot;   &quot;-14&quot;    &quot;12.4&quot; </span></a>
<a class="sourceLine" id="cb41-21" title="21"><span class="co">#&gt; 6 &quot;8&quot;           &quot;Thomas&quot;             &quot;TRUE&quot;   &quot;1&quot;      &quot;1&quot;</span></a>
<a class="sourceLine" id="cb41-22" title="22"><span class="kw">typeof</span>(mat_bind)</a>
<a class="sourceLine" id="cb41-23" title="23"><span class="co">#&gt; [1] &quot;character&quot;</span></a>
<a class="sourceLine" id="cb41-24" title="24"><span class="kw">class</span>(mat_bind)</a>
<a class="sourceLine" id="cb41-25" title="25"><span class="co">#&gt; [1] &quot;matrix&quot;</span></a>
<a class="sourceLine" id="cb41-26" title="26"></a>
<a class="sourceLine" id="cb41-27" title="27"><span class="co"># beside changing the row names you can also change the column names:</span></a>
<a class="sourceLine" id="cb41-28" title="28"><span class="kw">colnames</span>(mat_bind) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;E&quot;</span>)</a>
<a class="sourceLine" id="cb41-29" title="29">mat_bind</a>
<a class="sourceLine" id="cb41-30" title="30"><span class="co">#&gt;   A   B                    C       D     E      </span></a>
<a class="sourceLine" id="cb41-31" title="31"><span class="co">#&gt; 1 &quot;4&quot; &quot;Thomas&quot;             &quot;TRUE&quot;  &quot;1&quot;   &quot;1&quot;    </span></a>
<a class="sourceLine" id="cb41-32" title="32"><span class="co">#&gt; 2 &quot;1&quot; &quot;John&quot;               &quot;FALSE&quot; &quot;4&quot;   &quot;-2&quot;   </span></a>
<a class="sourceLine" id="cb41-33" title="33"><span class="co">#&gt; 3 &quot;6&quot; &quot;Sarah&quot;              &quot;FALSE&quot; &quot;8&quot;   &quot;-8.42&quot;</span></a>
<a class="sourceLine" id="cb41-34" title="34"><span class="co">#&gt; 4 &quot;4&quot; &quot;my dog is the best&quot; &quot;FALSE&quot; &quot;-1&quot;  &quot;5&quot;    </span></a>
<a class="sourceLine" id="cb41-35" title="35"><span class="co">#&gt; 5 &quot;7&quot; &quot;good bye&quot;           &quot;TRUE&quot;  &quot;-14&quot; &quot;12.4&quot; </span></a>
<a class="sourceLine" id="cb41-36" title="36"><span class="co">#&gt; 6 &quot;8&quot; &quot;Thomas&quot;             &quot;TRUE&quot;  &quot;1&quot;   &quot;1&quot;</span></a></code></pre></div>
<p>Did you also see that R coerced all input vectors to characters? <strong>Remember atomic vectors, matrices (and arrays) can only consist of the same data type!</strong></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" title="1"><span class="kw">is.atomic</span>(mat_bind)</a>
<a class="sourceLine" id="cb42-2" title="2"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
</div>
</div>
<div id="subsetting-vectors" class="section level2">
<h2><span class="header-section-number">5.6</span> Subsetting vectors</h2>
<p>We often need to extract or subset vectors for subsequent analyses. Here we briefly explore how this is can be done for atomic vectors (1 and n-dimensional) like the ones we have created so far. To subset vectors we us square brackets <code>[]</code> (see <code>?'['</code>). Next we can extract values by their position, by using relational operators, or by characters in case of character strings. Let’s start with their position:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1">integers</a>
<a class="sourceLine" id="cb43-2" title="2"><span class="co">#&gt; [1]   1   4   8  -1 -14</span></a>
<a class="sourceLine" id="cb43-3" title="3">integers[<span class="dv">3</span>] <span class="co"># by position</span></a>
<a class="sourceLine" id="cb43-4" title="4"><span class="co">#&gt; [1] 8</span></a>
<a class="sourceLine" id="cb43-5" title="5">integers[<span class="op">-</span><span class="dv">2</span>] <span class="co"># eveything except position 2</span></a>
<a class="sourceLine" id="cb43-6" title="6"><span class="co">#&gt; [1]   1   8  -1 -14</span></a>
<a class="sourceLine" id="cb43-7" title="7">integers[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] <span class="co"># select position 1, 2, 3</span></a>
<a class="sourceLine" id="cb43-8" title="8"><span class="co">#&gt; [1] 1 4 8</span></a>
<a class="sourceLine" id="cb43-9" title="9">integers[<span class="op">-</span><span class="dv">3</span><span class="op">:-</span><span class="dv">5</span>] <span class="co"># everything except position 3, 4, 5</span></a>
<a class="sourceLine" id="cb43-10" title="10"><span class="co">#&gt; [1] 1 4</span></a></code></pre></div>
<p>Not too difficult, is it? Now let’s do something that you will likely encounter more frequently, i.e. subsetting based on a value, or range of values with help of relational (<code>?"&lt;"</code>) and logical (<code>?"&amp;"</code>) operators:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" title="1">integers</a>
<a class="sourceLine" id="cb44-2" title="2"><span class="co">#&gt; [1]   1   4   8  -1 -14</span></a>
<a class="sourceLine" id="cb44-3" title="3"><span class="co"># relational operators</span></a>
<a class="sourceLine" id="cb44-4" title="4">integers[integers <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span>]</a>
<a class="sourceLine" id="cb44-5" title="5"><span class="co">#&gt; [1]  -1 -14</span></a>
<a class="sourceLine" id="cb44-6" title="6">integers[integers <span class="op">&lt;=</span><span class="st"> </span><span class="dv">4</span>]</a>
<a class="sourceLine" id="cb44-7" title="7"><span class="co">#&gt; [1]   1   4  -1 -14</span></a>
<a class="sourceLine" id="cb44-8" title="8">integers[integers <span class="op">==</span><span class="st"> </span><span class="dv">-14</span>]</a>
<a class="sourceLine" id="cb44-9" title="9"><span class="co">#&gt; [1] -14</span></a>
<a class="sourceLine" id="cb44-10" title="10">integers[integers <span class="op">!=</span><span class="st"> </span><span class="dv">-14</span>]</a>
<a class="sourceLine" id="cb44-11" title="11"><span class="co">#&gt; [1]  1  4  8 -1</span></a>
<a class="sourceLine" id="cb44-12" title="12"></a>
<a class="sourceLine" id="cb44-13" title="13"><span class="co"># relational and logical operators</span></a>
<a class="sourceLine" id="cb44-14" title="14">integers[integers <span class="op">&lt;</span><span class="st"> </span><span class="dv">8</span> <span class="op">&amp;</span><span class="st"> </span>integers <span class="op">&lt;</span><span class="st"> </span><span class="dv">-1</span>]</a>
<a class="sourceLine" id="cb44-15" title="15"><span class="co">#&gt; [1] -14</span></a>
<a class="sourceLine" id="cb44-16" title="16">integers[integers <span class="op">&gt;=</span><span class="st"> </span><span class="dv">4</span> <span class="op">|</span><span class="st"> </span>integers <span class="op">&lt;=</span><span class="st"> </span><span class="dv">-1</span>]</a>
<a class="sourceLine" id="cb44-17" title="17"><span class="co">#&gt; [1]   4   8  -1 -14</span></a></code></pre></div>
<p>Matrices are subsetted in a similar fashion but we now have two dimensions, that is, rows and columns. Using the square brackets approach we now select element as <code>[row_position, column_position]</code>.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" title="1">mat_bind</a>
<a class="sourceLine" id="cb45-2" title="2"><span class="co">#&gt;   A   B                    C       D     E      </span></a>
<a class="sourceLine" id="cb45-3" title="3"><span class="co">#&gt; 1 &quot;4&quot; &quot;Thomas&quot;             &quot;TRUE&quot;  &quot;1&quot;   &quot;1&quot;    </span></a>
<a class="sourceLine" id="cb45-4" title="4"><span class="co">#&gt; 2 &quot;1&quot; &quot;John&quot;               &quot;FALSE&quot; &quot;4&quot;   &quot;-2&quot;   </span></a>
<a class="sourceLine" id="cb45-5" title="5"><span class="co">#&gt; 3 &quot;6&quot; &quot;Sarah&quot;              &quot;FALSE&quot; &quot;8&quot;   &quot;-8.42&quot;</span></a>
<a class="sourceLine" id="cb45-6" title="6"><span class="co">#&gt; 4 &quot;4&quot; &quot;my dog is the best&quot; &quot;FALSE&quot; &quot;-1&quot;  &quot;5&quot;    </span></a>
<a class="sourceLine" id="cb45-7" title="7"><span class="co">#&gt; 5 &quot;7&quot; &quot;good bye&quot;           &quot;TRUE&quot;  &quot;-14&quot; &quot;12.4&quot; </span></a>
<a class="sourceLine" id="cb45-8" title="8"><span class="co">#&gt; 6 &quot;8&quot; &quot;Thomas&quot;             &quot;TRUE&quot;  &quot;1&quot;   &quot;1&quot;</span></a>
<a class="sourceLine" id="cb45-9" title="9">mat_bind[<span class="dv">2</span>, <span class="dv">3</span>]</a>
<a class="sourceLine" id="cb45-10" title="10"><span class="co">#&gt; [1] &quot;FALSE&quot;</span></a>
<a class="sourceLine" id="cb45-11" title="11">mat_bind[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">4</span>]</a>
<a class="sourceLine" id="cb45-12" title="12"><span class="co">#&gt;   B        C       D  </span></a>
<a class="sourceLine" id="cb45-13" title="13"><span class="co">#&gt; 1 &quot;Thomas&quot; &quot;TRUE&quot;  &quot;1&quot;</span></a>
<a class="sourceLine" id="cb45-14" title="14"><span class="co">#&gt; 2 &quot;John&quot;   &quot;FALSE&quot; &quot;4&quot;</span></a>
<a class="sourceLine" id="cb45-15" title="15"><span class="co">#&gt; 3 &quot;Sarah&quot;  &quot;FALSE&quot; &quot;8&quot;</span></a>
<a class="sourceLine" id="cb45-16" title="16">mat_bind[<span class="dv">1</span>, ]</a>
<a class="sourceLine" id="cb45-17" title="17"><span class="co">#&gt;        A        B        C        D        E </span></a>
<a class="sourceLine" id="cb45-18" title="18"><span class="co">#&gt;      &quot;4&quot; &quot;Thomas&quot;   &quot;TRUE&quot;      &quot;1&quot;      &quot;1&quot;</span></a>
<a class="sourceLine" id="cb45-19" title="19">mat_bind[, <span class="dv">2</span>]</a>
<a class="sourceLine" id="cb45-20" title="20"><span class="co">#&gt;                    1                    2                    3 </span></a>
<a class="sourceLine" id="cb45-21" title="21"><span class="co">#&gt;             &quot;Thomas&quot;               &quot;John&quot;              &quot;Sarah&quot; </span></a>
<a class="sourceLine" id="cb45-22" title="22"><span class="co">#&gt;                    4                    5                    6 </span></a>
<a class="sourceLine" id="cb45-23" title="23"><span class="co">#&gt; &quot;my dog is the best&quot;           &quot;good bye&quot;             &quot;Thomas&quot;</span></a>
<a class="sourceLine" id="cb45-24" title="24">mat_bind[, <span class="st">&quot;B&quot;</span>]</a>
<a class="sourceLine" id="cb45-25" title="25"><span class="co">#&gt;                    1                    2                    3 </span></a>
<a class="sourceLine" id="cb45-26" title="26"><span class="co">#&gt;             &quot;Thomas&quot;               &quot;John&quot;              &quot;Sarah&quot; </span></a>
<a class="sourceLine" id="cb45-27" title="27"><span class="co">#&gt;                    4                    5                    6 </span></a>
<a class="sourceLine" id="cb45-28" title="28"><span class="co">#&gt; &quot;my dog is the best&quot;           &quot;good bye&quot;             &quot;Thomas&quot;</span></a></code></pre></div>
<p>In this case, we won’t be able to select elements based on relational operators because the matrix is of type <code>character</code>. Instead we will do this in the data frame section below.</p>
</div>
</div>
<div id="lists" class="section level1">
<h1><span class="header-section-number">6</span> Lists</h1>
<p>Alright! We made it to the <em>generic vectors</em> aka lists. Lists are very versatile and can store anything you want. The elements of a list can be comprised of various types of data types. In the following examples we explore the lists and especially a particular class of list: the data frame.</p>
<div id="list" class="section level2">
<h2><span class="header-section-number">6.1</span> List</h2>
<p>The list is a very useful object and many of R’s outputs are stored as lists. For example when you run a liner model using the <code>lm()</code> function, R will output the summary as a list. We will have a look at this later though. For now let’s learn how lists work.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" title="1">my_list &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">A =</span> <span class="kw">c</span>(LETTERS), <span class="dt">B =</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>), <span class="dt">C =</span> <span class="kw">c</span>(<span class="kw">runif</span>(<span class="dv">10</span>)), <span class="dt">D =</span> <span class="st">&quot;I can pack any item I want in a list&quot;</span>)</a>
<a class="sourceLine" id="cb46-2" title="2">my_list</a>
<a class="sourceLine" id="cb46-3" title="3"><span class="co">#&gt; $A</span></a>
<a class="sourceLine" id="cb46-4" title="4"><span class="co">#&gt;  [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot;</span></a>
<a class="sourceLine" id="cb46-5" title="5"><span class="co">#&gt; [18] &quot;R&quot; &quot;S&quot; &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;</span></a>
<a class="sourceLine" id="cb46-6" title="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb46-7" title="7"><span class="co">#&gt; $B</span></a>
<a class="sourceLine" id="cb46-8" title="8"><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></a>
<a class="sourceLine" id="cb46-9" title="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb46-10" title="10"><span class="co">#&gt; $C</span></a>
<a class="sourceLine" id="cb46-11" title="11"><span class="co">#&gt;  [1] 0.5523104 0.6792223 0.5142742 0.6438342 0.8803771 0.0344651 0.0754200</span></a>
<a class="sourceLine" id="cb46-12" title="12"><span class="co">#&gt;  [8] 0.1346932 0.3221213 0.9278208</span></a>
<a class="sourceLine" id="cb46-13" title="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb46-14" title="14"><span class="co">#&gt; $D</span></a>
<a class="sourceLine" id="cb46-15" title="15"><span class="co">#&gt; [1] &quot;I can pack any item I want in a list&quot;</span></a>
<a class="sourceLine" id="cb46-16" title="16"><span class="kw">typeof</span>(my_list)</a>
<a class="sourceLine" id="cb46-17" title="17"><span class="co">#&gt; [1] &quot;list&quot;</span></a>
<a class="sourceLine" id="cb46-18" title="18"><span class="kw">class</span>(my_list)</a>
<a class="sourceLine" id="cb46-19" title="19"><span class="co">#&gt; [1] &quot;list&quot;</span></a>
<a class="sourceLine" id="cb46-20" title="20"><span class="kw">is.atomic</span>(my_list)</a>
<a class="sourceLine" id="cb46-21" title="21"><span class="co">#&gt; [1] FALSE</span></a></code></pre></div>
<p>Lists can even include other lists:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" title="1">x1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">4</span>))</a>
<a class="sourceLine" id="cb47-2" title="2">x2 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="kw">list</span>(<span class="dv">3</span>, <span class="dv">4</span>))</a>
<a class="sourceLine" id="cb47-3" title="3">x3 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>, <span class="kw">list</span>(<span class="dv">2</span>, <span class="kw">list</span>(<span class="dv">3</span>)))</a></code></pre></div>
<div class="figure">
<img src="https://d33wubrfki0l68.cloudfront.net/5ba72e78f2df8568c1be82236659558b0e06904c/04521/diagrams/lists-structure.png" alt="Structure of lists (from: [R for Data Science](https://r4ds.had.co.nz/vectors.html#lists))" width="80%" />
<p class="caption">
Structure of lists (from: <a href="https://r4ds.had.co.nz/vectors.html#lists">R for Data Science</a>)
</p>
</div>
<div id="subsetting-lists" class="section level3">
<h3><span class="header-section-number">6.1.1</span> Subsetting lists</h3>
<p>List items can be extracted using the square bracket <code>[</code> and double square bracket <code>[[</code> operators. <code>[</code> will subsets the list and <code>[[</code> will extracts single elements from that list. The <code>str()</code> function is very useful for inspecting lists!</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" title="1">new_list &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a =</span> <span class="kw">c</span>(<span class="st">&quot;alpha&quot;</span>, <span class="st">&quot;beta&quot;</span>), <span class="dt">b =</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) , <span class="dt">c =</span> <span class="kw">rnorm</span>(<span class="dv">4</span>), <span class="dt">d =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="kw">list</span>(<span class="dt">z1 =</span> <span class="dv">2</span>, <span class="dt">z2 =</span> <span class="st">&quot;text&quot;</span>)))</a>
<a class="sourceLine" id="cb48-2" title="2"><span class="kw">str</span>(new_list)</a>
<a class="sourceLine" id="cb48-3" title="3"><span class="co">#&gt; List of 4</span></a>
<a class="sourceLine" id="cb48-4" title="4"><span class="co">#&gt;  $ a: chr [1:2] &quot;alpha&quot; &quot;beta&quot;</span></a>
<a class="sourceLine" id="cb48-5" title="5"><span class="co">#&gt;  $ b: int [1:5] 1 2 3 4 5</span></a>
<a class="sourceLine" id="cb48-6" title="6"><span class="co">#&gt;  $ c: num [1:4] 1.95 -0.52 1.19 -1.28</span></a>
<a class="sourceLine" id="cb48-7" title="7"><span class="co">#&gt;  $ d:List of 2</span></a>
<a class="sourceLine" id="cb48-8" title="8"><span class="co">#&gt;   ..$ x: num 1</span></a>
<a class="sourceLine" id="cb48-9" title="9"><span class="co">#&gt;   ..$ y:List of 2</span></a>
<a class="sourceLine" id="cb48-10" title="10"><span class="co">#&gt;   .. ..$ z1: num 2</span></a>
<a class="sourceLine" id="cb48-11" title="11"><span class="co">#&gt;   .. ..$ z2: chr &quot;text&quot;</span></a>
<a class="sourceLine" id="cb48-12" title="12"></a>
<a class="sourceLine" id="cb48-13" title="13"><span class="co"># subset a new list that only contains variable `a`. There are three ways to achieve that:</span></a>
<a class="sourceLine" id="cb48-14" title="14">new_list<span class="op">$</span>a</a>
<a class="sourceLine" id="cb48-15" title="15"><span class="co">#&gt; [1] &quot;alpha&quot; &quot;beta&quot;</span></a>
<a class="sourceLine" id="cb48-16" title="16">new_list[<span class="st">&quot;a&quot;</span>]</a>
<a class="sourceLine" id="cb48-17" title="17"><span class="co">#&gt; $a</span></a>
<a class="sourceLine" id="cb48-18" title="18"><span class="co">#&gt; [1] &quot;alpha&quot; &quot;beta&quot;</span></a>
<a class="sourceLine" id="cb48-19" title="19">new_list[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb48-20" title="20"><span class="co">#&gt; $a</span></a>
<a class="sourceLine" id="cb48-21" title="21"><span class="co">#&gt; [1] &quot;alpha&quot; &quot;beta&quot;</span></a>
<a class="sourceLine" id="cb48-22" title="22"></a>
<a class="sourceLine" id="cb48-23" title="23"><span class="co"># extract element `beta` from variable `a`</span></a>
<a class="sourceLine" id="cb48-24" title="24">new_list<span class="op">$</span>a[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb48-25" title="25"><span class="co">#&gt; [1] &quot;beta&quot;</span></a>
<a class="sourceLine" id="cb48-26" title="26">new_list[[<span class="st">&quot;a&quot;</span>]][<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb48-27" title="27"><span class="co">#&gt; [1] &quot;beta&quot;</span></a>
<a class="sourceLine" id="cb48-28" title="28">new_list[[<span class="dv">1</span>]][<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb48-29" title="29"><span class="co">#&gt; [1] &quot;beta&quot;</span></a>
<a class="sourceLine" id="cb48-30" title="30"></a>
<a class="sourceLine" id="cb48-31" title="31"><span class="co"># drilling down into the list to extract the first element of variable `z1`</span></a>
<a class="sourceLine" id="cb48-32" title="32">new_list<span class="op">$</span>d<span class="op">$</span>y<span class="op">$</span>z1[<span class="dv">1</span>] </a>
<a class="sourceLine" id="cb48-33" title="33"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb48-34" title="34">new_list[[<span class="st">&quot;d&quot;</span>]][[<span class="st">&quot;y&quot;</span>]][[<span class="st">&quot;z1&quot;</span>]][<span class="dv">1</span>] </a>
<a class="sourceLine" id="cb48-35" title="35"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb48-36" title="36">new_list[[<span class="dv">4</span>]][[<span class="dv">2</span>]][[<span class="dv">1</span>]][<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb48-37" title="37"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb48-38" title="38"></a>
<a class="sourceLine" id="cb48-39" title="39"><span class="co"># since there is only one element in `z1`, `[1]` can be omitted</span></a>
<a class="sourceLine" id="cb48-40" title="40">new_list<span class="op">$</span>d<span class="op">$</span>y<span class="op">$</span>z1</a>
<a class="sourceLine" id="cb48-41" title="41"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb48-42" title="42">new_list[[<span class="st">&quot;d&quot;</span>]][[<span class="st">&quot;y&quot;</span>]][[<span class="st">&quot;z1&quot;</span>]]</a>
<a class="sourceLine" id="cb48-43" title="43"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb48-44" title="44">new_list[[<span class="dv">4</span>]][[<span class="dv">2</span>]][[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb48-45" title="45"><span class="co">#&gt; [1] 2</span></a></code></pre></div>
<p>While lists are super useful and versatile, they need some time to get used to. Now let’s move on and have a look at a special type of list, the data frame.</p>
</div>
</div>
<div id="data-frame" class="section level2">
<h2><span class="header-section-number">6.2</span> Data frame</h2>
<p>The data frame is a special type of list with class <code>data.frame</code>. The main difference between lists and data frames is that all elements in a data frame must have the same length. Data frames look very much like Excel spreadsheets and are the most common data storage type in R.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" title="1"><span class="kw">data.frame</span>(<span class="dt">A =</span> LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>], <span class="dt">B =</span> <span class="kw">rnorm</span>(<span class="dv">6</span>), <span class="dt">C =</span> <span class="kw">sample</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dv">5</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
<pre class="red"><code>#&gt; Error in data.frame(A = LETTERS[1:10], B = rnorm(6), C = sample(c(0, 1), : arguments imply differing number of rows: 10, 6, 5</code></pre>
<p>As the error implies, columns in a data frame must have the <strong>same length</strong> if you create them manually in R. However, for the most part you load <em>external</em> data into R and any cell containing missing values will receive an <code>NA</code> (not available).</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">A =</span> LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>], <span class="dt">B =</span> <span class="kw">rnorm</span>(<span class="dv">6</span>), <span class="dt">C =</span> <span class="kw">as.logical</span>(<span class="kw">sample</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dv">6</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)))</a>
<a class="sourceLine" id="cb51-2" title="2">df</a>
<a class="sourceLine" id="cb51-3" title="3"><span class="co">#&gt;   A           B     C</span></a>
<a class="sourceLine" id="cb51-4" title="4"><span class="co">#&gt; 1 A  0.53790234  TRUE</span></a>
<a class="sourceLine" id="cb51-5" title="5"><span class="co">#&gt; 2 B  0.60980731  TRUE</span></a>
<a class="sourceLine" id="cb51-6" title="6"><span class="co">#&gt; 3 C -0.50191495  TRUE</span></a>
<a class="sourceLine" id="cb51-7" title="7"><span class="co">#&gt; 4 D  0.77189343 FALSE</span></a>
<a class="sourceLine" id="cb51-8" title="8"><span class="co">#&gt; 5 E -0.08733101  TRUE</span></a>
<a class="sourceLine" id="cb51-9" title="9"><span class="co">#&gt; 6 F -0.56605409 FALSE</span></a>
<a class="sourceLine" id="cb51-10" title="10"><span class="kw">length</span>(df) <span class="co"># note: length in a data frame represents the number of columns</span></a>
<a class="sourceLine" id="cb51-11" title="11"><span class="co">#&gt; [1] 3</span></a>
<a class="sourceLine" id="cb51-12" title="12"><span class="kw">nrow</span>(df) <span class="co"># note: to get the column length of a data frame use `nrow()`</span></a>
<a class="sourceLine" id="cb51-13" title="13"><span class="co">#&gt; [1] 6</span></a>
<a class="sourceLine" id="cb51-14" title="14"><span class="kw">typeof</span>(df)</a>
<a class="sourceLine" id="cb51-15" title="15"><span class="co">#&gt; [1] &quot;list&quot;</span></a>
<a class="sourceLine" id="cb51-16" title="16"><span class="kw">class</span>(df)</a>
<a class="sourceLine" id="cb51-17" title="17"><span class="co">#&gt; [1] &quot;data.frame&quot;</span></a>
<a class="sourceLine" id="cb51-18" title="18"><span class="kw">is.atomic</span>(df)</a>
<a class="sourceLine" id="cb51-19" title="19"><span class="co">#&gt; [1] FALSE</span></a>
<a class="sourceLine" id="cb51-20" title="20"><span class="kw">str</span>(df)</a>
<a class="sourceLine" id="cb51-21" title="21"><span class="co">#&gt; &#39;data.frame&#39;:    6 obs. of  3 variables:</span></a>
<a class="sourceLine" id="cb51-22" title="22"><span class="co">#&gt;  $ A: Factor w/ 6 levels &quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,..: 1 2 3 4 5 6</span></a>
<a class="sourceLine" id="cb51-23" title="23"><span class="co">#&gt;  $ B: num  0.5379 0.6098 -0.5019 0.7719 -0.0873 ...</span></a>
<a class="sourceLine" id="cb51-24" title="24"><span class="co">#&gt;  $ C: logi  TRUE TRUE TRUE FALSE TRUE FALSE</span></a></code></pre></div>
<p>Let’s open up Excel and create a toy data set. Make sure you include some missing values (empty cells) as well as some numeric and character values. Now save the file as <code>.csv</code> (comma separated value) in the working directory and read it into R using <code>read.csv</code> and inspect it.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" title="1">my_df &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;my_toy_dataset.csv&quot;</span>)</a>
<a class="sourceLine" id="cb52-2" title="2"><span class="kw">typeof</span>(my_df)</a>
<a class="sourceLine" id="cb52-3" title="3"><span class="kw">class</span>(my_df)</a>
<a class="sourceLine" id="cb52-4" title="4"><span class="kw">str</span>(my_df)</a></code></pre></div>
<p>Can you calculate the mean? What’s the standard deviation? Can you visualize your data with the <code>plot()</code> function (see <code>?plot</code>)?</p>
<div id="subsetting-data-frames" class="section level3">
<h3><span class="header-section-number">6.2.1</span> Subsetting data frames</h3>
<p>Subsetting data frames works similar to matrices except that we now also can select entire columns using the <code>$</code> operator. As before We can use the square brackets <code>[row_position, column_position]</code> as well as relational operators.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" title="1"><span class="kw">typeof</span>(df<span class="op">$</span>B)</a>
<a class="sourceLine" id="cb53-2" title="2"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb53-3" title="3"><span class="kw">typeof</span>(df[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">3</span>])</a>
<a class="sourceLine" id="cb53-4" title="4"><span class="co">#&gt; [1] &quot;logical&quot;</span></a>
<a class="sourceLine" id="cb53-5" title="5">df[df<span class="op">$</span>A <span class="op">==</span><span class="st"> &quot;D&quot;</span>, ]</a>
<a class="sourceLine" id="cb53-6" title="6"><span class="co">#&gt;   A         B     C</span></a>
<a class="sourceLine" id="cb53-7" title="7"><span class="co">#&gt; 4 D 0.7718934 FALSE</span></a>
<a class="sourceLine" id="cb53-8" title="8">df[df<span class="op">$</span>C <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>, ]</a>
<a class="sourceLine" id="cb53-9" title="9"><span class="co">#&gt;   A           B    C</span></a>
<a class="sourceLine" id="cb53-10" title="10"><span class="co">#&gt; 1 A  0.53790234 TRUE</span></a>
<a class="sourceLine" id="cb53-11" title="11"><span class="co">#&gt; 2 B  0.60980731 TRUE</span></a>
<a class="sourceLine" id="cb53-12" title="12"><span class="co">#&gt; 3 C -0.50191495 TRUE</span></a>
<a class="sourceLine" id="cb53-13" title="13"><span class="co">#&gt; 5 E -0.08733101 TRUE</span></a>
<a class="sourceLine" id="cb53-14" title="14">df[df<span class="op">$</span>B <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.5</span>, ]</a>
<a class="sourceLine" id="cb53-15" title="15"><span class="co">#&gt;   A         B     C</span></a>
<a class="sourceLine" id="cb53-16" title="16"><span class="co">#&gt; 1 A 0.5379023  TRUE</span></a>
<a class="sourceLine" id="cb53-17" title="17"><span class="co">#&gt; 2 B 0.6098073  TRUE</span></a>
<a class="sourceLine" id="cb53-18" title="18"><span class="co">#&gt; 4 D 0.7718934 FALSE</span></a>
<a class="sourceLine" id="cb53-19" title="19">df[df<span class="op">$</span>A <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>),] <span class="co"># %in% is used when you want to select/match elements based on an vector of elements see: ?&#39;%in%</span></a>
<a class="sourceLine" id="cb53-20" title="20"><span class="co">#&gt;   A          B    C</span></a>
<a class="sourceLine" id="cb53-21" title="21"><span class="co">#&gt; 1 A  0.5379023 TRUE</span></a>
<a class="sourceLine" id="cb53-22" title="22"><span class="co">#&gt; 3 C -0.5019150 TRUE</span></a>
<a class="sourceLine" id="cb53-23" title="23">df[df<span class="op">$</span>A <span class="op">==</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;AC&quot;</span>),] <span class="co"># same result </span></a>
<a class="sourceLine" id="cb53-24" title="24"><span class="co">#&gt;   A         B    C</span></a>
<a class="sourceLine" id="cb53-25" title="25"><span class="co">#&gt; 1 A 0.5379023 TRUE</span></a>
<a class="sourceLine" id="cb53-26" title="26">df[df<span class="op">$</span>A <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;C&quot;</span>, <span class="st">&quot;A&quot;</span>),] <span class="co"># same result</span></a>
<a class="sourceLine" id="cb53-27" title="27"><span class="co">#&gt;   A          B    C</span></a>
<a class="sourceLine" id="cb53-28" title="28"><span class="co">#&gt; 1 A  0.5379023 TRUE</span></a>
<a class="sourceLine" id="cb53-29" title="29"><span class="co">#&gt; 3 C -0.5019150 TRUE</span></a>
<a class="sourceLine" id="cb53-30" title="30">df[df<span class="op">$</span>A <span class="op">==</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;C&quot;</span>, <span class="st">&quot;A&quot;</span>),] <span class="co"># not the same result why?</span></a>
<a class="sourceLine" id="cb53-31" title="31"><span class="co">#&gt;   A         B    C</span></a>
<a class="sourceLine" id="cb53-32" title="32"><span class="co">#&gt; 3 C -0.501915 TRUE</span></a></code></pre></div>
<p>Also try subsetting <code>df</code> using the logical OR (<code>|</code>) and logical AND (<code>&amp;</code>) as we did above for 1-dimensional atomic vectors.</p>
<p>At this point remember how subsetting works, it is important to understand this. First we define a condition for which we get a logical vector. Then we feed this into the square brackets to select those items for which the condition was <code>TRUE</code>. Also remember R’s behavior of vector recycling, meaning that it will execute a given operation by position:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" title="1">df<span class="op">$</span>A <span class="co"># the column we want to select from</span></a>
<a class="sourceLine" id="cb54-2" title="2"><span class="co">#&gt; [1] A B C D E F</span></a>
<a class="sourceLine" id="cb54-3" title="3"><span class="co">#&gt; Levels: A B C D E F</span></a>
<a class="sourceLine" id="cb54-4" title="4">logical_a &lt;-<span class="st"> </span>df<span class="op">$</span>A <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;C&quot;</span>, <span class="st">&quot;A&quot;</span>) <span class="co"># the elements we want to select</span></a>
<a class="sourceLine" id="cb54-5" title="5">logical_a</a>
<a class="sourceLine" id="cb54-6" title="6"><span class="co">#&gt; [1]  TRUE FALSE  TRUE FALSE FALSE FALSE</span></a>
<a class="sourceLine" id="cb54-7" title="7">logical_b &lt;-<span class="st"> </span>df<span class="op">$</span>A <span class="op">==</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;C&quot;</span>, <span class="st">&quot;A&quot;</span>) <span class="co"># the elements we want to select </span></a>
<a class="sourceLine" id="cb54-8" title="8">logical_b</a>
<a class="sourceLine" id="cb54-9" title="9"><span class="co">#&gt; [1] FALSE FALSE  TRUE FALSE FALSE FALSE</span></a>
<a class="sourceLine" id="cb54-10" title="10">df[logical_a, ]</a>
<a class="sourceLine" id="cb54-11" title="11"><span class="co">#&gt;   A          B    C</span></a>
<a class="sourceLine" id="cb54-12" title="12"><span class="co">#&gt; 1 A  0.5379023 TRUE</span></a>
<a class="sourceLine" id="cb54-13" title="13"><span class="co">#&gt; 3 C -0.5019150 TRUE</span></a>
<a class="sourceLine" id="cb54-14" title="14">df[logical_b, ]</a>
<a class="sourceLine" id="cb54-15" title="15"><span class="co">#&gt;   A         B    C</span></a>
<a class="sourceLine" id="cb54-16" title="16"><span class="co">#&gt; 3 C -0.501915 TRUE</span></a></code></pre></div>
<p>So whenever you want to match a set of items within a vector use the <code>%in%</code> operator and not <code>==</code>! Otherwise you will very likely introduce errors without knowing!</p>
</div>
</div>
</div>
<div id="install-packages" class="section level1">
<h1><span class="header-section-number">7</span> Install packages</h1>
<p>Installing packages is also something you will come across very often. However, this is a pretty simple task and can get accomplished easily. Why don’t we install the R fortunes package so that you can get yourself a <code>fortune()</code> :D</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" title="1"><span class="kw">install.packages</span>(<span class="st">&quot;fortunes&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" title="1"><span class="kw">require</span>(fortunes)</a>
<a class="sourceLine" id="cb56-2" title="2"><span class="co">#&gt; Loading required package: fortunes</span></a>
<a class="sourceLine" id="cb56-3" title="3"><span class="kw">fortune</span>()</a>
<a class="sourceLine" id="cb56-4" title="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb56-5" title="5"><span class="co">#&gt; Fabio Mulazzani: I need to obtain all the 9.somethingExp157 permutations</span></a>
<a class="sourceLine" id="cb56-6" title="6"><span class="co">#&gt; that can be given from the numbers from 1 to 100.</span></a>
<a class="sourceLine" id="cb56-7" title="7"><span class="co">#&gt; Ted Harding: To an adequate approximation there are 10^158 of them. Simply</span></a>
<a class="sourceLine" id="cb56-8" title="8"><span class="co">#&gt; to obtain them all (at a rate of 10^10 per second, which is faster than</span></a>
<a class="sourceLine" id="cb56-9" title="9"><span class="co">#&gt; the CPU frequency of most desktop computers) would take 10^148 seconds, or</span></a>
<a class="sourceLine" id="cb56-10" title="10"><span class="co">#&gt; slightly longer than 3*(10^140) years. Current estimates of the age of the</span></a>
<a class="sourceLine" id="cb56-11" title="11"><span class="co">#&gt; Universe are of the order of 1.5*(10^10) years, so the Universe will have</span></a>
<a class="sourceLine" id="cb56-12" title="12"><span class="co">#&gt; to last about 2*(10^130) times as long as it has already existed, before</span></a>
<a class="sourceLine" id="cb56-13" title="13"><span class="co">#&gt; the task could be finished. So: why do you want to do this?</span></a>
<a class="sourceLine" id="cb56-14" title="14"><span class="co">#&gt;    -- Fabio Mulazzani and Ted Harding</span></a>
<a class="sourceLine" id="cb56-15" title="15"><span class="co">#&gt;       R-help (November 2008)</span></a></code></pre></div>
</div>
<div id="installing-r-studio" class="section level1">
<h1><span class="header-section-number">8</span> Installing R Studio</h1>
<p>Now since we have a very basic understanding of R and using the R console, let’s download and install a program that makes working in R much easier, namely <a href="https://www.rstudio.com/products/rstudio/download/">R Studio</a>. Here is a short description from the software developer:</p>
<blockquote>
<p>R Studio is an integrated development environment (IDE) for R. It includes a console, syntax-highlighting editor that supports direct code execution, as well as tools for plotting, history, debugging and workspace management. <a href="https://www.rstudio.com/products/rstudio/features/">Click here to see more RStudio features</a>.</p>
</blockquote>
<p>After everything is installed, open it up and explore the user interface. Click some buttons, write some code, save a script.</p>
</div>
<div id="statistics" class="section level1">
<h1><span class="header-section-number">9</span> Statistics</h1>
<p>Statistics is a branch of mathematics dealing with collection, manipulation, prediction and presentation of data. In the broadest sense the goal of statistics is to inform decision making by identifying genuine trends in datasets as well as predicting future outcomes from data. Statistics can be separated into descriptive and inferential statistics. See <a href="https://en.wikipedia.org/wiki/Statistics">here</a> for more general information about statistics.</p>
</div>
<div id="descriptive-statistics" class="section level1">
<h1><span class="header-section-number">10</span> Descriptive statistics</h1>
<p>Whenever we collect data the first step is to <strong>visualize</strong> what we have collected. This is the most important step in order to better understand what’s in your data. You need to get a feeling of how the data looks and behaves. Some important descriptive measures are the median and the mean to find the center of the data as well as some measure of spread (or variability) that is present around the center of the data. The latter can be achieved by percentiles (when using the median) or by the standard deviation (when using the mean).</p>
<div id="central-tendency" class="section level2">
<h2><span class="header-section-number">10.1</span> Central tendency</h2>
<div id="mean" class="section level3">
<h3><span class="header-section-number">10.1.1</span> Mean</h3>
<p>The most commonly used measures to describe the center of the data are the mean and the median. The mean is simply the sum of elements in a vector divided by the length of the vector. <strong>The mean is also the simplest model we can fit to data</strong>. For example we can measure the height of people in this room and say that on average the people in this room are 171.5 cm. Although no one is this room likely is exactly 171.5 cm, taking the mean represents a simple way of summarizing or <em>modeling</em> the average height of people in this room. In R the mean can be calculated using the <code>mean()</code> function (<code>?mean</code>).</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" title="1">heights &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">185</span>, <span class="dv">163</span>, <span class="dv">180</span>, <span class="dv">155</span>, <span class="dv">176</span>, <span class="dv">170</span>)</a>
<a class="sourceLine" id="cb57-2" title="2"><span class="kw">mean</span>(heights)</a>
<a class="sourceLine" id="cb57-3" title="3"><span class="co">#&gt; [1] 171.5</span></a>
<a class="sourceLine" id="cb57-4" title="4"></a>
<a class="sourceLine" id="cb57-5" title="5"><span class="co"># or by hand</span></a>
<a class="sourceLine" id="cb57-6" title="6"><span class="kw">sum</span>(heights) <span class="op">/</span><span class="st"> </span><span class="kw">length</span>(heights)</a>
<a class="sourceLine" id="cb57-7" title="7"><span class="co">#&gt; [1] 171.5</span></a></code></pre></div>
<p>Let’s have a look at it visually:</p>
<p><img src="day1_files/figure-html/unnamed-chunk-47-1.png" width="672" /></p>
</div>
<div id="median" class="section level3">
<h3><span class="header-section-number">10.1.2</span> Median</h3>
<p>The mean represents the center of the data if the distribution of the data is approximately normal (or symmetrical). If for example, the distribution is asymmetrical (or skewed), the median describes the middle of the data more accurately. The median simply takes the middle value if the sample size is odd, or if it is even, it will take the average of the two middle values. Suppose you want to know the income distribution of people at the University of Alberta (students and employees alike) and ask how much they earn per year. You go out and take a random sample of 10 people on campus and came back with this dataset below. Would it be more accurate to take the mean or the median?</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" title="1">income &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">30000</span>, <span class="dv">45000</span>, <span class="dv">50000</span>, <span class="dv">33000</span>, <span class="dv">48000</span>, <span class="dv">39000</span>, <span class="dv">41000</span>, <span class="dv">48000</span>, <span class="dv">140000</span>, <span class="dv">90000</span>)</a>
<a class="sourceLine" id="cb58-2" title="2"><span class="kw">mean</span>(income)</a>
<a class="sourceLine" id="cb58-3" title="3"><span class="co">#&gt; [1] 56400</span></a>
<a class="sourceLine" id="cb58-4" title="4"><span class="kw">median</span>(income)</a>
<a class="sourceLine" id="cb58-5" title="5"><span class="co">#&gt; [1] 46500</span></a>
<a class="sourceLine" id="cb58-6" title="6"></a>
<a class="sourceLine" id="cb58-7" title="7"><span class="co"># in this case the sample size is even, so the median the average of the two middle values of the ordered vector</span></a>
<a class="sourceLine" id="cb58-8" title="8"><span class="kw">sort</span>(income)</a>
<a class="sourceLine" id="cb58-9" title="9"><span class="co">#&gt;  [1]  30000  33000  39000  41000  45000  48000  48000  50000  90000 140000</span></a>
<a class="sourceLine" id="cb58-10" title="10"><span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">45000</span>, <span class="dv">48000</span>))</a>
<a class="sourceLine" id="cb58-11" title="11"><span class="co">#&gt; [1] 46500</span></a>
<a class="sourceLine" id="cb58-12" title="12"><span class="kw">mean</span>(income) <span class="op">-</span><span class="st"> </span><span class="kw">median</span>(income)</a>
<a class="sourceLine" id="cb58-13" title="13"><span class="co">#&gt; [1] 9900</span></a></code></pre></div>
<p>Let’s look at it visually:</p>
<p><img src="day1_files/figure-html/unnamed-chunk-49-1.png" width="672" /></p>
<p>As you can see there is a difference between the mean and the median of $9,900. Which one would you report and why?</p>
</div>
</div>
<div id="measure-of-spread" class="section level2">
<h2><span class="header-section-number">10.2</span> Measure of spread</h2>
<p>Now since we are able to calculate the mean and the median we also need a measure of spread around them. Why do you think that is? Why not simply reporting the mean or median only?</p>
<div id="standard-deviation" class="section level3">
<h3><span class="header-section-number">10.2.1</span> Standard deviation</h3>
<p>Before we talk about the standard deviation, let’s back up for a bit and think about how we could quantify the deviation around the mean? One way would be to calculate the deviance of each point to the mean, such as:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" title="1">deviation &lt;-<span class="st"> </span>heights <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(heights)</a>
<a class="sourceLine" id="cb59-2" title="2">deviation</a>
<a class="sourceLine" id="cb59-3" title="3"><span class="co">#&gt; [1]  13.5  -8.5   8.5 -16.5   4.5  -1.5</span></a></code></pre></div>
<p>Now we could add those individual deviations up to get the total deviation:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" title="1"><span class="kw">sum</span>(deviation)</a>
<a class="sourceLine" id="cb60-2" title="2"><span class="co">#&gt; [1] 0</span></a></code></pre></div>
<p>Why is this zero? What can we do? We could square the distances first before adding them. That ensure the values are positive:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" title="1">deviation_sq &lt;-<span class="st"> </span>(heights <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(heights))<span class="op">^</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb61-2" title="2"><span class="kw">sum</span>(deviation_sq)</a>
<a class="sourceLine" id="cb61-3" title="3"><span class="co">#&gt; [1] 621.5</span></a></code></pre></div>
<p>This is a huge number! Let’s continue and take the average of squared deviations first and then add them up. This makes more sense since we also wouldn’t want to use the <em>total</em> height of people in the class room example to understand the height distribution. OK then let’s continue and simply divide the squared deviations by the length of the sample size minus one (explanation will follow) and then take the sum:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" title="1"><span class="kw">sum</span>(deviation_sq <span class="op">/</span><span class="st"> </span>(<span class="kw">length</span>(deviation_sq) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>))</a>
<a class="sourceLine" id="cb62-2" title="2"><span class="co">#&gt; [1] 124.3</span></a></code></pre></div>
<p>Still a huge number and practically not really useful to understand the variation but in any case this number is also know as the <a href="https://en.wikipedia.org/wiki/Variance">variance</a>:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" title="1"><span class="kw">var</span>(heights) <span class="co"># see `?var` for details on the n-1 part and go from there</span></a>
<a class="sourceLine" id="cb63-2" title="2"><span class="co">#&gt; [1] 124.3</span></a></code></pre></div>
<p>However, since we squared the average deviations in the beginning, we could reverse this now by taking the square root:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" title="1"><span class="kw">sqrt</span>(<span class="kw">var</span>(heights))</a>
<a class="sourceLine" id="cb64-2" title="2"><span class="co">#&gt; [1] 11.14899</span></a></code></pre></div>
<p>This looks better now! It seems like that the deviation (or spread) of height is 11.1 cm. This number is also know as the <a href="https://en.wikipedia.org/wiki/Standard_deviation">standard deviation</a>!</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" title="1"><span class="kw">sd</span>(heights) <span class="co"># remember to check `?sd`</span></a>
<a class="sourceLine" id="cb65-2" title="2"><span class="co">#&gt; [1] 11.14899</span></a></code></pre></div>
<p>How does this look visually?</p>
<p><img src="day1_files/figure-html/unnamed-chunk-57-1.png" width="672" /></p>
</div>
</div>
<div id="histograms" class="section level2">
<h2><span class="header-section-number">10.3</span> Histograms</h2>
<p>Histograms are really great tool to visualize distributions. The way the work is that they create discrete classes (or bins) and count the number of samples that fall within that bin. Here we use the <code>diamonds</code> dataset which comes with the <code>ggplot2</code> package. This dataset describes 50,000 round cut diamonds (<code>?diamonds</code>).</p>
<p><img src="day1_files/figure-html/unnamed-chunk-58-1.png" width="672" /></p>
</div>
<div id="boxplots" class="section level2">
<h2><span class="header-section-number">10.4</span> Boxplots</h2>
<p>Boxplots are another very useful tool to inspect data (<code>diamonds</code> datatset). The box represents the boundaries in which 50% of the data falls. The end point of the vertical lines (or whiskers) represent either the minimum or maximum value in the dataset or a cutoff value defined as 1.5x the inter-quartile range (will discuss in class). All values outside the cutoff are displayed as dots and often considered “outliers”.</p>
<p><img src="day1_files/figure-html/unnamed-chunk-59-1.png" width="672" /></p>
</div>
<div id="scatter-plots" class="section level2">
<h2><span class="header-section-number">10.5</span> Scatter plots</h2>
<p>Scatter plots (or xy plots) are a great way to visualize relationships within the data. In this example we look at the length to width relationship of flower <a href="https://en.wikipedia.org/wiki/Petal">petals</a> from three different <a href="https://en.wikipedia.org/wiki/Iris_(plant)">iris</a> species. This dataset is pre-loaded into R and can be accessed by typing <code>iris</code> into the console. More information can be found under <code>?iris</code>.</p>
<p><img src="day1_files/figure-html/unnamed-chunk-60-1.png" width="672" /></p>
</div>
</div>
<div id="probability-distributions" class="section level1">
<h1><span class="header-section-number">11</span> Probability distributions</h1>
<p><a href="https://en.wikipedia.org/wiki/Probability_distribution">Probability distributions</a> are mathematical functions that provide probabilities of occurrences of different possible outcomes in an experiment. Probability distributions can be divided into discrete and continuous distributions.</p>
<div id="binomial" class="section level2">
<h2><span class="header-section-number">11.1</span> Binomial</h2>
<p>Suppose you are flipping a fair coin. What is the probability of the coin coming up heads? Such an experiment with a binary outcome is called a <a href="https://en.wikipedia.org/wiki/Bernoulli_trial">Bernoulli trial</a>. The outcomes of multiple independent Bernoulli trials can be calculated using the <a href="https://en.wikipedia.org/wiki/Binomial_distribution">Binomial distribution</a> with parameters <span class="math inline">\(B(n,p)\)</span>, where <span class="math inline">\(n\)</span> is the number of independent Bernoulli trials and <span class="math inline">\(p\)</span> the probability of success, which in our coin example is heads with a probability of 0.5. To calculate the number of successes <span class="math inline">\(k\)</span> over <span class="math inline">\(n\)</span> trials we use the binomial probability mass function. <span class="math display">\[{n \choose k}p^k(1-p)^{(n-k)}\]</span> But before we do that let us first use R to generate some random binomial-distributed numbers using the <code>rbinom()</code> function (see <code>?rbinom</code>):</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" title="1"><span class="co"># a single fair coin toss, i.e, one Bernoulli trial</span></a>
<a class="sourceLine" id="cb66-2" title="2"><span class="kw">rbinom</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="fl">0.5</span>) <span class="co"># keep repeating this step and observe</span></a>
<a class="sourceLine" id="cb66-3" title="3"><span class="co">#&gt; [1] 0</span></a>
<a class="sourceLine" id="cb66-4" title="4"></a>
<a class="sourceLine" id="cb66-5" title="5"><span class="co"># instead if flipping one coin we can also flip many coins simulatnously </span></a>
<a class="sourceLine" id="cb66-6" title="6"><span class="kw">rbinom</span>(<span class="dv">10</span>, <span class="dv">1</span>, <span class="fl">0.5</span>) <span class="co"># keep repeating this step and observe</span></a>
<a class="sourceLine" id="cb66-7" title="7"><span class="co">#&gt;  [1] 0 0 1 0 0 0 0 1 1 0</span></a>
<a class="sourceLine" id="cb66-8" title="8"></a>
<a class="sourceLine" id="cb66-9" title="9"><span class="co"># now let&#39;s try one coin tossed repeatedly 10 times</span></a>
<a class="sourceLine" id="cb66-10" title="10"><span class="kw">rbinom</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="fl">0.5</span>) <span class="co"># keep repeating this step and observe</span></a>
<a class="sourceLine" id="cb66-11" title="11"><span class="co">#&gt; [1] 5</span></a></code></pre></div>
<p>Can you figure out what’s happening the last command above? R simply adds the number of 1s (which we will call heads) over the 10 coin flips. So what do you think is the probability of seeing on average 5 heads in 10 coin flips? Well, let’s find out through simulation by increasing the number of coins to 100,000:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" title="1">flips &lt;-<span class="st"> </span><span class="kw">rbinom</span>(<span class="dv">100000</span>, <span class="dv">10</span>, <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb67-2" title="2"><span class="co"># number of heads over 10 trials for first 20 of the 100,000 coins</span></a>
<a class="sourceLine" id="cb67-3" title="3">flips[<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>]</a>
<a class="sourceLine" id="cb67-4" title="4"><span class="co">#&gt;  [1] 5 5 6 6 5 6 4 3 4 5 4 3 4 3 6 5 5 7 7 8</span></a>
<a class="sourceLine" id="cb67-5" title="5"><span class="kw">length</span>(flips)</a>
<a class="sourceLine" id="cb67-6" title="6"><span class="co">#&gt; [1] 100000</span></a></code></pre></div>
<p>Remember the relational operators <code>==</code>, <code>&lt;</code>, <code>&gt;</code>, etc. from above? Now we could ask R which of the 100,000 coin flips resulted in 5 heads:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" title="1">flips_<span class="dv">5</span> &lt;-<span class="st"> </span>flips <span class="op">==</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb68-2" title="2">flips_<span class="dv">5</span>[<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>]</a>
<a class="sourceLine" id="cb68-3" title="3"><span class="co">#&gt;  [1]  TRUE  TRUE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE</span></a>
<a class="sourceLine" id="cb68-4" title="4"><span class="co">#&gt; [12] FALSE FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE</span></a></code></pre></div>
<p>Now also remember from above that R treats <code>TRUE</code> as 1 and <code>FALSE</code> as 0. So would should be able to take the mean of <code>flips_5</code> to get the fraction of TRUEs (or 1s) over the total length of 100,000:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" title="1"><span class="kw">mean</span>(flips_<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb69-2" title="2"><span class="co">#&gt; [1] 0.24653</span></a></code></pre></div>
<p>In a histogram our simulation (<code>flips</code>) would look like this:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" title="1">flips_df &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(flips)</a>
<a class="sourceLine" id="cb70-2" title="2"><span class="kw">ggplot</span>(flips_df, <span class="kw">aes</span>(flips)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">11</span>, <span class="dt">binwidth =</span> <span class="fl">.5</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="dv">0</span><span class="op">:</span><span class="dv">10</span>)</a></code></pre></div>
<p><img src="day1_files/figure-html/unnamed-chunk-65-1.png" width="672" /></p>
<p>So how does the simulation compare if we calculate the exact probability using the probability mass function of the binomial distribution? <span class="math display">\[{n \choose k}p^k(1-p)^{(n-k)}\]</span></p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" title="1">n &lt;-<span class="st"> </span><span class="dv">10</span> <span class="co"># number of trials</span></a>
<a class="sourceLine" id="cb71-2" title="2">k &lt;-<span class="st"> </span><span class="dv">5</span> <span class="co"># number of successes (heads)</span></a>
<a class="sourceLine" id="cb71-3" title="3">p &lt;-<span class="st"> </span><span class="fl">0.5</span> <span class="co"># probability of success in each trial</span></a>
<a class="sourceLine" id="cb71-4" title="4"></a>
<a class="sourceLine" id="cb71-5" title="5"><span class="kw">choose</span>(n, k) <span class="op">*</span><span class="st"> </span>p<span class="op">^</span>k <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>p)<span class="op">^</span>(n <span class="op">-</span><span class="st"> </span>k)</a>
<a class="sourceLine" id="cb71-6" title="6"><span class="co">#&gt; [1] 0.2460938</span></a>
<a class="sourceLine" id="cb71-7" title="7"><span class="kw">mean</span>(flips_<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb71-8" title="8"><span class="co">#&gt; [1] 0.24653</span></a></code></pre></div>
<p>In R we can also use the <code>dbinom()</code> function (see: ?<code>dbinom</code>) to calculate the exact probability of success for a given number of trials:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" title="1"><span class="kw">dbinom</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb72-2" title="2"><span class="co">#&gt; [1] 0.2460938</span></a></code></pre></div>
<p>Sometimes we may also need to know what is the probability of observing 5 or less heads? This can be done using the <code>pbinom()</code> function. We could also use our <code>flips</code> simulation and the <code>mean</code> function:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" title="1"><span class="kw">pbinom</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.5</span>) <span class="co"># cumulative distribution function</span></a>
<a class="sourceLine" id="cb73-2" title="2"><span class="co">#&gt; [1] 0.6230469</span></a>
<a class="sourceLine" id="cb73-3" title="3"></a>
<a class="sourceLine" id="cb73-4" title="4"><span class="kw">mean</span>(flips <span class="op">&lt;=</span><span class="st"> </span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb73-5" title="5"><span class="co">#&gt; [1] 0.62626</span></a></code></pre></div>
</div>
<div id="gaussian" class="section level2">
<h2><span class="header-section-number">11.2</span> Gaussian</h2>
<p>There are many, many other distributions that allow to calculate probabilities for various types of data generating processes, one of which is the Gaussian distribution (or normal distribution) as well as the t-distribution. We will encounter the Gaussian and t-distribution when we talk about t-tests, analysis of variance, and regression. Similar to the binomial distribution there are functions in R to generate random numbers and calculate probabilities for these distributions (see: <code>?rnorm</code> and <code>?rt</code> for details).</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
